{"version":3,"file":"bundle.js","sources":["../src/components/SegmentedPicker/SegmentedPickerPropTypes.ts","../src/config/constants.ts","../src/components/SegmentedPicker/SegmentedPickerStyles.ts","../src/components/Toolbar/ToolbarStyles.ts","../src/components/Toolbar/Toolbar.tsx","../src/components/BottomBar/BottomBarStyles.ts","../src/components/BottomBar/Bottombar.tsx","../src/components/SelectionMarker/SelectionMarkerStyles.ts","../src/components/SelectionMarker/SelectionMarker.tsx","../src/components/UIPicker/index.ts","../src/services/Cache/Cache.ts","../src/services/PromiseFactory/PromiseFactory.ts","../src/services/UIPickerManager/UIPickerManager.ts","../src/components/SegmentedPicker/SegmentedPicker.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\n\nexport const defaultProps = {\n  native: false,\n  options: [],\n  visible: false,\n  selected: {},\n  defaultSelections: {},\n  size: 0.45,\n  confirmText: 'Done',\n  titleText: '',\n  nativeTestID: undefined,\n  confirmTextColor: '#0A84FF',\n  pickerItemTextColor: '#282828',\n  toolbarBackgroundColor: '#FAFAF8',\n  toolbarBorderColor: '#E7E7E7',\n  selectionBackgroundColor: '#F8F8F8',\n  selectionBorderColor: '#C9C9C9',\n  backgroundColor: '#FFFFFF',\n  onValueChange: () => {},\n  onCancel: () => {},\n  onConfirm: () => {},\n  onClose: () => {},\n};\n\nexport const propTypes = {\n  // Core Props\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string.isRequired,\n      items: PropTypes.arrayOf(\n        PropTypes.shape({\n          label: PropTypes.string.isRequired,\n          value: PropTypes.string.isRequired,\n          key: PropTypes.string,\n          testID: PropTypes.string,\n        }),\n      ).isRequired,\n      testID: PropTypes.string,\n      flex: PropTypes.number,\n    }),\n  ).isRequired,\n  visible: PropTypes.bool,\n  defaultSelections: PropTypes.objectOf((\n    propValue,\n    key,\n    componentName,\n    location,\n    propName,\n  ) => {\n    const column = propValue[key];\n    return (column && String(column) !== column) ? (\n      new Error(\n        `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`.`\n        + ' Must be in the format: `{column1: \\'value\\', column2: \\'value\\', ...}`',\n      )\n    ) : null;\n  }),\n  size: (props: any, propName: 'size', componentName: string) => {\n    const value = props[propName];\n    if (value === undefined) return null;\n    return (value < 0 || value > 1) ? (\n      new Error(\n        `Invalid prop \\`${propName}\\` supplied to \\`${componentName}\\`.`\n        + ' Must be a floating point between 0-1 representing the screen percentage to cover.'\n        + ' The default value is `0.45` (eg 45%).',\n      )\n    ) : null;\n  },\n  confirmText: PropTypes.string,\n  titleText: PropTypes.string,\n  nativeTestID: PropTypes.string,\n  // Styling\n  confirmTextColor: PropTypes.string,\n  pickerItemTextColor: PropTypes.string,\n  toolbarBackgroundColor: PropTypes.string,\n  toolbarBorderColor: PropTypes.string,\n  selectionBackgroundColor: PropTypes.string,\n  selectionBorderColor: PropTypes.string,\n  backgroundColor: PropTypes.string,\n  // Events\n  onValueChange: PropTypes.func,\n  onCancel: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onClose: PropTypes.func,\n};\n","/**\n * Time in milliseconds for the list to fade in and out when displayed.\n */\nexport const ANIMATION_TIME = 300;\n\n/**\n * Fixed sizing for list items and other UI elements.\n */\nexport const GUTTER_WIDTH = 8;\nexport const GUTTER_HEIGHT = 5;\nexport const ITEM_HEIGHTS = { ios: 46, default: 50 };\nexport const TEXT_CORRECTION = 2;\n\n/**\n * Constants used for automatically generated Test ID's (used for E2E testing).\n */\nexport const TEST_IDS = {\n  PICKER: 'SEGMENTED_PICKER',\n  CONFIRM_BUTTON: 'SEGMENTED_PICKER_CONFIRM',\n  CLOSE_AREA: 'SEGMENTED_PICKER_CLOSE_AREA',\n};\n\n/**\n * Measurement and internal lifecycle tracking states.\n */\nexport const TRACKING = {\n  FLAT_LIST_REF: 'FLAT_LIST_REF_',\n  LAST_SCROLL_OFFSET: 'LAST_SCROLL_OFFSET_',\n  SCROLL_DIRECTION: 'SCROLL_DIRECTION_',\n  IS_DRAGGING: 'IS_DRAGGING_',\n  IS_MOMENTUM_SCROLLING: 'IS_MOMENTUM_SCROLLING_',\n  IS_DIRTY: 'IS_DIRTY_',\n};\n","import { StyleSheet, Platform, Dimensions } from 'react-native';\nimport {\n  GUTTER_WIDTH,\n  GUTTER_HEIGHT,\n  ITEM_HEIGHTS,\n  TEXT_CORRECTION,\n} from '../../config/constants';\n\nconst ITEM_HEIGHT = Platform.select(ITEM_HEIGHTS);\n\nexport default StyleSheet.create({\n  modalContainer: {\n    width: '100%',\n    height: '100%',\n    backgroundColor: 'rgba(0, 0, 0, 0.7)',\n    flex: 1,\n    flexDirection: 'column',\n    padding: '8%',\n  },\n\n  closeableContainer: {\n    width: '100%',\n  },\n\n  pickerContainer: {\n    width: '100%',\n    flex: 1,\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n  },\n\n  selectableArea: {\n    flex: 1,\n    alignSelf: 'stretch',\n  },\n\n  pickerColumns: {\n    flex: 1,\n    flexDirection: 'row',\n    paddingTop: GUTTER_HEIGHT,\n    paddingRight: 0,\n    paddingBottom: GUTTER_HEIGHT,\n    paddingLeft: GUTTER_WIDTH,\n  },\n\n  pickerColumn: {\n    flex: 1,\n    marginRight: 12,\n    position: 'relative',\n  },\n\n  pickerColumnHeader: {\n    paddingLeft: 24,\n    marginRight: 0,\n    paddingBottom: 8\n  },\n\n  headerSelections: {\n    flexDirection: 'row'\n  },\n\n  pickerList: {\n    width: '100%',\n    height: 'auto',\n  },\n\n  pickerItem: {\n    width: '100%',\n    height: ITEM_HEIGHT,\n    justifyContent: 'center',\n  },\n\n  pickerItemText: {\n    fontSize: 15,\n    paddingTop: 5,\n    paddingRight: 0,\n    paddingBottom: TEXT_CORRECTION + 5,\n    paddingLeft: 0,\n    textAlign: 'center',\n  },\n\n  nativePickerContainer: {\n    width: Dimensions.get('window').width - (GUTTER_WIDTH * 2),\n    height: '100%',\n    marginLeft: GUTTER_WIDTH,\n  },\n\n  nativePicker: {\n    width: '100%',\n    height: '100%',\n  },\n});\n","import { StyleSheet } from 'react-native';\nimport { GUTTER_WIDTH, TEXT_CORRECTION } from '../../config/constants';\n\nexport default StyleSheet.create({\n  toolbarContainer: {\n    width: '100%',\n    height: 42,\n    borderBottomWidth: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    alignSelf: 'flex-start',\n    borderTopRightRadius: 10,\n    borderTopLeftRadius: 10,\n  },\n\n  toolbarTitleContainer: {\n    width: '80%',\n    alignItems: 'center',\n  },\n\n  closeButton: {\n    width: '20%',\n    paddingLeft: '5%',\n  },\n\n  toolbarConfirmText: {\n    fontSize: 18,\n  },\n});\n","import React, { ReactElement } from 'react';\nimport { View, TouchableOpacity, Text } from 'react-native';\nimport styles from './ToolbarStyles';\nimport { TEST_IDS } from '../../config/constants';\n\ninterface Props {\n  confirmText: string;\n  titleText: string;\n  confirmTextColor: string;\n  toolbarBackground: string;\n  toolbarBorderColor: string;\n  onConfirm: () => void;\n  onClose: () => void;\n\n}\n\n/**\n * Top action bar that displays above the picker modal which allows a user to confirm\n * their selections and close the modal.\n */\nexport default ({\n  confirmText,\n  titleText,\n  confirmTextColor,\n  toolbarBackground,\n  toolbarBorderColor,\n  onConfirm,\n  onClose,\n}: Props): ReactElement => (\n  <View\n    style={[\n      styles.toolbarContainer,\n      {\n        backgroundColor: toolbarBackground,\n        borderBottomColor: toolbarBorderColor,\n      },\n    ]}\n  >\n    <TouchableOpacity\n      activeOpacity={0.4}\n      onPress={onClose}\n      testID={TEST_IDS.CONFIRM_BUTTON}\n      style={styles.closeButton}\n    >\n      <View>\n        <Text style={[styles.toolbarConfirmText, { color: confirmTextColor, fontSize: 30 }]}>\n          x\n        </Text>\n      </View>\n    </TouchableOpacity>\n    <View style={styles.toolbarTitleContainer}>\n      <Text style={[styles.toolbarConfirmText, { color: confirmTextColor }]}>\n        {titleText}\n      </Text>\n    </View>\n  </View>\n);\n","import { StyleSheet } from 'react-native';\nimport { GUTTER_WIDTH, TEXT_CORRECTION } from '../../config/constants';\n\nexport default StyleSheet.create({\n  toolbarContainer: {\n    width: '100%',\n    height: 42,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    alignSelf: 'flex-start',\n    borderTopWidth: 1,\n    borderBottomLeftRadius: 10,\n    borderBottomRightRadius: 10,\n  },\n\n  toolbarConfirmContainer: {\n    width: '100%',\n    alignItems: 'center',\n  },\n\n  toolbarConfirmText: {\n    fontWeight: 'bold',\n    fontSize: 18,\n  },\n});\n","import React, { ReactElement } from 'react';\nimport { View, TouchableOpacity, Text } from 'react-native';\nimport styles from './BottomBarStyles';\nimport { TEST_IDS } from '../../config/constants';\n\ninterface Props {\n  confirmText: string;\n  toolbarBackground: string;\n  toolbarBorderColor: string;\n  onConfirm: () => void;\n  onClose: () => void;\n\n}\n\n/**\n * Top action bar that displays above the picker modal which allows a user to confirm\n * their selections and close the modal.\n */\nexport default ({\n  confirmText,\n  toolbarBackground,\n  toolbarBorderColor,\n  onConfirm,\n}: Props): ReactElement => (\n  <View\n    style={[\n      styles.toolbarContainer,\n      {\n        backgroundColor: toolbarBackground,\n        borderColor: toolbarBorderColor,\n      },\n    ]}\n  >\n    <TouchableOpacity\n      activeOpacity={0.4}\n      onPress={onConfirm}\n      testID={TEST_IDS.CONFIRM_BUTTON}\n      style={[styles.toolbarConfirmContainer]}\n    >\n      <Text style={[styles.toolbarConfirmText, { color: '#5f85bc' }]}>\n        {confirmText}\n      </Text>\n    </TouchableOpacity>\n  </View>\n);\n","import { StyleSheet, Platform } from 'react-native';\nimport { ITEM_HEIGHTS, GUTTER_WIDTH } from '../../config/constants';\n\nconst ITEM_HEIGHT = Platform.select(ITEM_HEIGHTS);\n\nexport default StyleSheet.create({\n  selectionMarkerContainer: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingLeft: GUTTER_WIDTH,\n    paddingRight: GUTTER_WIDTH,\n  },\n\n  // Eliminates border rendering inconsistencies between iOS & Android\n  selectionMarkerBorder: {\n    width: '100%',\n    height: Platform.select({ ios: 0.6, android: 0.7 }),\n  },\n\n  selectionMarker: {\n    width: '100%',\n    height: ITEM_HEIGHT,\n  },\n});\n","import React, { ReactElement } from 'react';\nimport { Text, TextStyle, View } from 'react-native';\nimport styles from './SelectionMarkerStyles';\n\ninterface Props {\n  backgroundColor: string;\n  borderColor?: string;\n  selectionSeparator?: ReactElement<any>;\n  selectionBorder?: TextStyle,\n}\n\n/**\n * Horizontal bar used to indicate the current picker selections.\n */\nexport default ({\n  backgroundColor,\n  borderColor,\n  selectionSeparator,\n  selectionBorder,\n}: Props): ReactElement => (\n  <View style={styles.selectionMarkerContainer}>\n    <View\n      style={[\n        styles.selectionMarkerBorder,\n        { backgroundColor: borderColor },\n      ]}\n    />\n    <View style={[styles.selectionMarker, { backgroundColor: backgroundColor }, selectionBorder]} >{selectionSeparator}</View>\n    <View\n      style={[\n        styles.selectionMarkerBorder,\n        { backgroundColor: borderColor },\n      ]}\n    />\n  </View>\n);\n","import { requireNativeComponent } from 'react-native';\n\nexport default requireNativeComponent('UIPicker');\n","export type StoreItem = any;\n\nexport interface Store {\n  [key: string]: any;\n}\n\n/**\n * This class is utilised by the main Segmented Picker component as a fast synchronous\n * cache alternative to the regular React component state mechanism.\n */\nexport default class Cache {\n  store: Store;\n\n  constructor(initialState: Store = {}) {\n    this.store = {\n      ...initialState,\n    };\n  }\n\n  /**\n   * Returns the entire store value without any modification.\n   * @return {Store}\n   */\n  get current(): Store {\n    return this.store;\n  }\n\n  /**\n   * Attempts to safely fetch the cached value for the specified key.\n   * @param {string} key\n   * @return {StoreItem | null}\n   */\n  get = (key: string): StoreItem | null => {\n    if (key in this.store) {\n      return this.store[key];\n    }\n    return null;\n  };\n\n  /**\n   * Creates (or replaces) a value in the cache for the specified key.\n   * @param {string} key\n   * @param {StoreItem} value\n   * @return {void}\n   */\n  set = (key: string, value: StoreItem): void => {\n    this.store[key] = value;\n  };\n\n  /**\n   * Completely resets the cache to a blank state.\n   * @return {void}\n   */\n  purge = (): void => {\n    this.store = {};\n  };\n}\n","interface PromiseExecutor {\n  resolve: any;\n  reject: any;\n}\n\n/**\n * This class is used to store promises against an incrementing integer so that the\n * promise can be resolved from outside the context of the original block.\n *\n * An example of this is when React needs to request asynchronous data from a Native\n * UI Component. Communication to UI components across the React Native bridge is\n * limited to 1-way, so the value must be emitted afterwards using an event which is\n * not immediately available to the original JavaScript method. So to get around this\n * limitation, we empower the React event subscription to resolve the promise.\n */\nexport default class PromiseFactory {\n  private promises: Map<Number, PromiseExecutor> = new Map();\n  private nextPromiseId: number = 0;\n\n  /**\n   * Add a promise to the internal store and receive it's unique `id`.\n   * @param {PromiseExecutor} e\n   * @return {number} Unique `id` for the added promise.\n   */\n  add = (e: PromiseExecutor): number => {\n    const id = Number(this.nextPromiseId);\n    this.promises.set(id, e);\n    this.nextPromiseId += 1;\n    return id;\n  };\n\n  /**\n   * Get a promise by it's `id`.\n   * @param {number} id\n   * @return {PromiseExecutor | undefined}\n   */\n  get = (id: number): PromiseExecutor | undefined => this.promises.get(id);\n\n  /**\n   * Completely deletes a promise from the factory using it's unique `id`.\n   * @param {number} id\n   * @return {boolean}\n   */\n  delete = (id: number): boolean => this.promises.delete(id);\n}\n","import React from 'react';\nimport { UIManager, findNodeHandle } from 'react-native';\nimport PromiseFactory from '../PromiseFactory';\nimport { UIPickerSelectionsEvent } from '../../config/interfaces';\n\ninterface Selections {\n  [column: string]: string;\n}\n\n/**\n * Methods to control and observe the native iOS `UIPickerView`.\n */\nexport default class UIPickerManager {\n  private ref: React.RefObject<any> = React.createRef();\n  private promiseFactory: PromiseFactory = new PromiseFactory();\n\n  get reactRef(): React.RefObject<any> {\n    return this.ref;\n  }\n\n  /**\n   * Programmatically select an index in the picker.\n   * @param {number} index: List index of the picker item to select.\n   * @param {string} columnKey: Unique key of the column to select.\n   * @param {boolean = true} animated: Should the selection \"snap\" or animate smoothly into place?\n   * @return {void}\n   */\n  selectIndex = (index: number, column: string, animated: boolean = true): void => {\n    if (this.ref.current) {\n      UIManager.dispatchViewManagerCommand(\n        findNodeHandle(this.ref.current),\n        (UIManager as any).UIPicker.Commands.selectIndex,\n        [index, column, animated],\n      );\n    }\n  };\n\n  /**\n   * Returns the current picker item selections as the appear on the user's screen.\n   * @return {Promise<Selections>}\n   */\n  getCurrentSelections = (): Promise<Selections> => {\n    if (!this.ref.current) {\n      return Promise.resolve({});\n    }\n    const promise: Promise<Selections> = new Promise((resolve, reject) => {\n      const pid = this.promiseFactory.add({ resolve, reject });\n      UIManager.dispatchViewManagerCommand(\n        findNodeHandle(this.ref.current),\n        (UIManager as any).UIPicker.Commands.emitSelections,\n        [pid],\n      );\n    });\n    return promise;\n  };\n\n  /**\n   * Ingests emitted selections from the native module and resolves the original promise\n   * from `getCurrentSelections` using it's stored resolver in the Promise Factory.\n   * @param {UIPickerSelectionsEvent}\n   * @return {void}\n   */\n  ingestSelections = (\n    { nativeEvent: { selections, pid } }: UIPickerSelectionsEvent,\n  ): void => {\n    const promise = this.promiseFactory.get(pid);\n    if (promise) {\n      promise.resolve(selections);\n      this.promiseFactory.delete(pid);\n    }\n  };\n}\n","import React, { Component, ReactElement } from 'react';\nimport {\n  Platform,\n  Modal,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  FlatList,\n  View,\n  Text,\n  NativeSyntheticEvent,\n  NativeScrollEvent,\n  TextStyle,\n} from 'react-native';\nimport * as Animatable from 'react-native-animatable';\nimport { defaultProps, propTypes } from './SegmentedPickerPropTypes';\nimport styles from './SegmentedPickerStyles';\nimport Toolbar from '../Toolbar';\nimport BottomBar from '../BottomBar';\nimport SelectionMarker from '../SelectionMarker';\nimport UIPicker from '../UIPicker';\nimport Cache from '../../services/Cache';\nimport UIPickerManager from '../../services/UIPickerManager';\nimport {\n  PickerColumn,\n  PickerItem,\n  PickerOptions,\n  Selections,\n  SelectionEvent,\n  UIPickerValueChangeEvent,\n} from '../../config/interfaces';\nimport {\n  ANIMATION_TIME,\n  GUTTER_HEIGHT,\n  ITEM_HEIGHTS,\n  TEST_IDS,\n  TRACKING,\n} from '../../config/constants';\n\nconst ITEM_HEIGHT = Platform.select(ITEM_HEIGHTS);\n\nconst {\n  FLAT_LIST_REF,\n  LAST_SCROLL_OFFSET,\n  SCROLL_DIRECTION,\n  IS_DRAGGING,\n  IS_MOMENTUM_SCROLLING,\n  IS_DIRTY,\n} = TRACKING;\n\nexport interface Props {\n  native: boolean;\n  options: PickerOptions;\n  visible: boolean;\n  defaultSelections: Selections;\n  size: number;\n  confirmText: string;\n  titleText: string;\n  nativeTestID: string;\n  // Styling\n  confirmTextColor: string;\n  pickerItemTextColor: string;\n  toolbarBackgroundColor: string;\n  toolbarBorderColor: string;\n  selectionBackgroundColor: string;\n  selectionBorderColor?: string;\n  backgroundColor: string;\n  // Events\n  onValueChange: (event: SelectionEvent) => void;\n  onCancel: (event: Selections) => void,\n  onConfirm: (event: Selections) => void,\n  onClose: () => void,\n  renderBottomBar: (selected: string[] | unknown) => React.FC,\n  renderHeader: (selected: string[] | unknown) => React.FC,\n  customBottomBar: (item: string[], onConfirm: () => void) => ReactElement<any>,\n  customHeader: (item: string[], onClose: () => void) => ReactElement<any>,\n  selectionSeparator: ReactElement<any>,\n  pickerTextFont: TextStyle;\n  pickerColumnHeaderTextStyle: TextStyle;\n  pickerColumsStyle: TextStyle,\n  selectionBorder: TextStyle,\n}\n\ninterface State {\n  visible: boolean;\n  pickersHeight: number;\n  selected: string[];\n}\n\ninterface RenderablePickerItem extends PickerItem {\n  key: string;\n  column: string;\n}\n\nexport default class SegmentedPicker extends Component<Props, State> {\n  static propTypes = propTypes;\n  static defaultProps = defaultProps as Partial<Props>;\n\n  /**\n   * @static\n   * Decorates the `options` prop with necessary defaults for missing values.\n   * @param options {PickerOptions}\n   * @return {PickerOptions}\n   */\n  static ApplyPickerOptionDefaults = (options: PickerOptions): PickerOptions => (\n    options.map(column => ({\n      ...column,\n      flex: column.flex || 1,\n    }))\n  );\n\n  cache: Cache = new Cache(); // Used as an internal synchronous state (fast)\n  uiPickerManager: UIPickerManager = new UIPickerManager();\n  selectionChanges: Selections = {};\n  modalContainerRef: React.RefObject<any> = React.createRef();\n  pickerContainerRef: React.RefObject<any> = React.createRef();\n\n  constructor(props: Props) {\n    super(props);\n    this.state = {\n      visible: false,\n      pickersHeight: 0,\n      selected: [],\n    };\n  }\n\n  /**\n   * Used in rare circumstances where this component is mounted with the `visible`\n   * prop set to true. We must animate the picker in immediately.\n   */\n  componentDidMount(): void {\n    if (this.props.visible === true) {\n      this.show();\n    }\n  }\n  /**\n   * Animates in-and-out when toggling picker visibility with the `visible` prop.\n   */\n  componentDidUpdate(prevProps: Props): void {\n    const { visible: visibleProp } = this.props;\n    const { visible: visibleState } = this.state;\n    if (visibleProp === true && prevProps.visible !== true && visibleState !== true) {\n      this.show();\n    }\n    if (visibleProp === false && prevProps.visible === true) {\n      this.hide();\n    }\n  }\n\n  setChapterName = async (): Promise<void> => {\n    const selections = { ...(await this.getCurrentSelections()) };\n    const selectedItems = this.props.options.map((option) => {\n      const { key } = option;\n      const selectedItem = this.columnItems(key).find(item => item.value === selections[key]);\n      return selectedItem ? selectedItem.label : null;\n    }).filter(label => label !== null);\n    this.setState({ selected: selectedItems as string[] });\n  };\n\n  /**\n   * Make the picker visible on the screen.\n   * External Usage: `ref.current.show()`\n   * @return {Promise<void>}\n   */\n  show = (): Promise<void> => {\n    this.setState({ visible: true });\n    return new Promise(resolve => setTimeout(resolve, ANIMATION_TIME));\n  };\n\n  /**\n   * Hide the picker from the screen.\n   * External Usage: `ref.current.hide()`\n   * @return {Promise<void>}\n   */\n  hide = async (): Promise<void> => (\n    new Promise(async (resolve) => {\n      if (Platform.OS === 'ios') {\n        this.setState({ visible: false }, async () => {\n          await new Promise(done => setTimeout(done, ANIMATION_TIME));\n          this.cache.purge();\n          resolve();\n        });\n      } else {\n        await this.modalContainerRef.current?.fadeOut(ANIMATION_TIME);\n        this.setState({ visible: false }, () => {\n          this.cache.purge();\n          resolve();\n        });\n      }\n    })\n  );\n\n  /**\n   * Selects a specific picker item `label` in the picklist and focuses it.\n   * External Usage: `ref.current.selectLabel()`\n   * @param {string} label\n   * @param {string} column\n   * @param {boolean = true} animated\n   * @param {boolean = true} emitEvent: Specify whether to call the `onValueChange` event.\n   * @param {boolean = false} zeroFallback: Select the first list item if not found.\n   * @return {void}\n   */\n  selectLabel = (\n    label: string,\n    column: string,\n    animated: boolean = true,\n    emitEvent: boolean = true,\n    zeroFallback: boolean = false,\n  ): void => {\n    const index = this.findItemIndexByLabel(label, column);\n    if (index !== -1) {\n      this.selectIndex(index, column, animated, emitEvent);\n    } else if (this.columnItems(column).length > 0 && zeroFallback) {\n      this.selectIndex(0, column, animated, emitEvent);\n    }\n  };\n\n  /**\n   * Selects a specific picker item `value` in the picklist and focuses it.\n   * External Usage: `ref.current.selectValue()`\n   * @param {string} value\n   * @param {string} column\n   * @param {boolean = true} animated\n   * @param {boolean = true} emitEvent: Specify whether to call the `onValueChange` event.\n   * @param {boolean = false} zeroFallback: Select the first list item if not found.\n   * @return {void}\n   */\n  selectValue = (\n    value: string,\n    column: string,\n    animated: boolean = true,\n    emitEvent: boolean = true,\n    zeroFallback: boolean = false,\n  ): void => {\n    const index = this.findItemIndexByValue(value, column);\n    if (index !== -1) {\n      this.selectIndex(index, column, animated, emitEvent);\n    } else if (this.columnItems(column).length > 0 && zeroFallback) {\n      this.selectIndex(0, column, animated, emitEvent);\n    }\n  };\n\n  /**\n   * Selects a specific label in the picklist and focuses it using it's list index.\n   * External Usage: `ref.current.selectLabel()`\n   * @param {number} index\n   * @param {string} column\n   * @param {boolean = true} animated\n   * @param {boolean = true} emitEvent: Specify whether to call the `onValueChange` event.\n   * @return {void}\n   */\n  selectIndex = (\n    index: number,\n    column: string,\n    animated: boolean = true,\n    emitEvent: boolean = true,\n  ): void => {\n    if (this.isNative()) {\n      this.uiPickerManager.selectIndex(index, column, animated);\n      return;\n    }\n    const { onValueChange } = this.props;\n    const list = this.cache.get(`${FLAT_LIST_REF}${column}`);\n    if (!list) {\n      return;\n    }\n    const items = this.columnItems(column);\n    if (!this.selectionChanges[column]\n      || (this.selectionChanges[column]\n        && this.selectionChanges[column] !== items[index].value)\n    ) {\n      this.selectionChanges = {\n        ...this.selectionChanges,\n        [column]: items[index].value,\n      };\n\n      list.scrollToIndex({\n        index,\n        animated,\n      });\n\n      if (emitEvent) {\n        onValueChange({ column, value: items[index].value });\n      }\n    }\n  };\n\n  /**\n   * Returns the current picklist selections as they appear on the UI.\n   * External Usage: `await ref.current.getCurrentSelections()`\n   * @return {Promise<Selections>} {column1: 'value', column2: 'value', ...}\n   */\n  getCurrentSelections = async (): Promise<Selections> => {\n    if (this.isNative()) {\n      const nativeSelections = await this.uiPickerManager.getCurrentSelections();\n      return nativeSelections;\n    }\n    const { options } = this.props;\n    return Promise.resolve(\n      options.reduce((columns, column) => {\n        const lastOffset = this.cache.get(`${LAST_SCROLL_OFFSET}${column.key}`);\n        const index = this.nearestOptionIndex(\n          lastOffset || 0,\n          column.key,\n        );\n        const items = this.columnItems(column.key);\n        return {\n          ...columns,\n          [column.key]: items[index]?.value,\n        };\n      }, {}),\n    );\n  };\n\n  /**\n   * @private\n   * Should the picker be powered by a native module, or with plain JavaScript?\n   * Currently only available as an opt-in option for iOS devices.\n   * @return {boolean}\n   */\n  private isNative = (): boolean => (\n    this.props.native && Platform.OS === 'ios'\n  );\n\n  /**\n   * Filters the `options` prop for a specific column `key`.\n   * @param {string} key\n   * @return {PickerColumn}\n   */\n  private getColumn = (key: string): PickerColumn => (\n    this.props.options.filter(c => c.key === key)[0]\n  );\n\n  /**\n   * Returns the picker list items for a specific column `key`.\n   * @param {string} key\n   * @return {Array<PickerItem>}\n   */\n  private columnItems = (key: string): Array<PickerItem> => this.getColumn(key)?.items || [];\n\n  /**\n   * @private\n   * @param {string} label\n   * @param {string} column\n   * @return {number}\n   */\n  private findItemIndexByLabel = (label: string, column: string): number => {\n    const items = this.columnItems(column);\n    return items.findIndex(item => (\n      item.label === label\n    ));\n  };\n\n  /**\n   * @private\n   * @param {string} value\n   * @param {string} column\n   * @return {number}\n   */\n  private findItemIndexByValue = (value: string, column: string): number => {\n    const items = this.columnItems(column);\n    return items.findIndex(item => (\n      item.value === value\n    ));\n  };\n\n  /**\n   * @private\n   * Focuses the default picklist selections.\n   * @return {void}\n   */\n  private setDefaultSelections = (): void => {\n    const { options, defaultSelections } = this.props;\n    const dirty = this.cache.get(IS_DIRTY);\n    if (!dirty) {\n      setTimeout(() => {\n        // User defined default selections\n        Object.keys(defaultSelections)\n          .forEach(column => (\n            this.selectValue(\n              defaultSelections[column],\n              column,\n              false,\n              false,\n              true,\n            )\n          ));\n\n        // Set all other selections to index 0\n        options\n          .filter(column => (\n            !Object.keys(defaultSelections).includes(column.key)\n            && this.columnItems(column.key).length > 0\n          ))\n          .forEach(column => (\n            this.selectIndex(0, column.key, false, false)\n          ));\n      }, 0);\n      this.cache.set(IS_DIRTY, true);\n      setTimeout(() => this.setChapterName(), 200);\n    }\n  };\n\n  /**\n   * @private\n   * @param {string} column\n   * @param {object} ref: The column's rendered FlatList component.\n   * @return {void}\n   */\n  private setFlatListRef = (column: string, ref: FlatList<any> | null): void => {\n    if (ref) {\n      this.cache.set(`${FLAT_LIST_REF}${column}`, ref);\n      this.setDefaultSelections();\n    }\n  };\n\n  /**\n   * @private\n   * @return {void}\n   */\n  private measurePickersHeight = (event: any): void => {\n    const { height } = event.nativeEvent.layout;\n    this.setState({ pickersHeight: height });\n  };\n\n  /**\n   * @private\n   * Calculates the padding top and bottom for the pickers so that the first and\n   * last list items are centered in the marker when fully scrolled up or down.\n   * @return {number}\n   */\n  private pickersVerticalPadding = (): number => {\n    const { pickersHeight } = this.state;\n    return (pickersHeight - ITEM_HEIGHT - (GUTTER_HEIGHT * 2)) / 2;\n  };\n\n  /**\n   * @private\n   * Determines the index of the nearest option in the list based off the specified Y\n   * scroll offset.\n   * @param {number} offsetY: The scroll view content offset from react native (should\n   * always be a positive integer).\n   * @param {string} column\n   * @return {number}\n   */\n  private nearestOptionIndex = (offsetY: number, column: string): number => {\n    const scrollDirection = this.cache.get(`${SCROLL_DIRECTION}${column}`) || 1;\n    const rounding = (scrollDirection === 0) ? 'floor' : 'ceil';\n    const adjustedOffsetY = (scrollDirection === 0) ? (\n      (offsetY / ITEM_HEIGHT) + 0.35\n    ) : (\n      (offsetY / ITEM_HEIGHT) - 0.35\n    );\n    let nearestArrayMember = Math[rounding](adjustedOffsetY) || 0;\n    // Safety checks making sure we don't return an out of range index\n    const columnSize = this.columnItems(column).length;\n    if (Math.sign(nearestArrayMember) === -1) {\n      nearestArrayMember = 0;\n    } else if (nearestArrayMember > columnSize - 1) {\n      nearestArrayMember = columnSize - 1;\n    }\n    return nearestArrayMember;\n  };\n\n  /**\n   * @private\n   * Calculates the current scroll direction based off the last and current Y offsets.\n   * @param {NativeSyntheticEvent<NativeScrollEvent>} event: Event details from React Native.\n   * @param {string} column\n   * @return {void}\n   */\n  private onScroll = (event: NativeSyntheticEvent<NativeScrollEvent>, column: string): void => {\n    if (!event.nativeEvent) return;\n    const { y } = event.nativeEvent.contentOffset;\n    const lastScrollOffset = this.cache.get(`${LAST_SCROLL_OFFSET}${column}`);\n    if (lastScrollOffset !== null && lastScrollOffset < y) {\n      this.cache.set(`${SCROLL_DIRECTION}${column}`, 1); // Down\n    } else {\n      this.cache.set(`${SCROLL_DIRECTION}${column}`, 0); // Up\n    }\n    this.cache.set(`${LAST_SCROLL_OFFSET}${column}`, y);\n  };\n\n  /**\n   * @private\n   * @param {string} column\n   * @return {void}\n   */\n  private onScrollBeginDrag = (column: string): void => {\n    this.cache.set(`${IS_DRAGGING}${column}`, true);\n    const dirty = this.cache.get(IS_DIRTY);\n    if (!dirty) {\n      this.cache.set(IS_DIRTY, true);\n    }\n  };\n\n  /**\n   * @private\n   * @param {NativeSyntheticEvent<NativeScrollEvent>} event: Event details from React Native.\n   * @param {string} column\n   * @return {void}\n   */\n  private onScrollEndDrag = async (\n    event: NativeSyntheticEvent<NativeScrollEvent>,\n    column: string,\n  ): Promise<void> => {\n    this.cache.set(`${IS_DRAGGING}${column}`, false);\n    if (Platform.OS === 'ios' && !this.cache.get(`${IS_MOMENTUM_SCROLLING}${column}`)) {\n      // Not required on Android because all scrolls exit as momentum scrolls,\n      // so the below method has already been called prior to this event.\n      // Timeout is to temporarily allow raising fingers.\n      this.selectIndexFromScrollPosition(event, column, 280);\n    }\n    this.setChapterName();\n  };\n\n  /**\n   * @private\n   * @param {object} event: Event details from React Native.\n   * @param {string} column\n   * @return {void}\n   */\n  private onMomentumScrollBegin = (\n    event: NativeSyntheticEvent<NativeScrollEvent>,\n    column: string,\n  ): void => {\n    this.cache.set(`${IS_MOMENTUM_SCROLLING}${column}`, true);\n  };\n\n  /**\n   * @private\n   * @param {NativeSyntheticEvent<NativeScrollEvent>} event: Event details from React Native.\n   * @param {string} column\n   * @return {void}\n   */\n  private onMomentumScrollEnd = (\n    event: NativeSyntheticEvent<NativeScrollEvent>,\n    column: string,\n  ): void => {\n    this.cache.set(`${IS_MOMENTUM_SCROLLING}${column}`, false);\n    if (Platform.OS === 'ios') {\n      event.persist();\n      this.selectIndexFromScrollPosition(event, column, 50);\n    } else {\n      this.selectIndexFromScrollPosition(event, column);\n    }\n  };\n\n  /**\n   * @private\n   * Scrolls to the nearest index based off a y offset from the FlatList.\n   * @param {NativeSyntheticEvent<NativeScrollEvent>} event: Event details from React Native.\n   * @param {string} column\n   * @param {number?} delay\n   * @return {void}\n   */\n  private selectIndexFromScrollPosition = (\n    event: NativeSyntheticEvent<NativeScrollEvent>,\n    column: string,\n    delay: number = 0,\n  ): void => {\n    if (!event.nativeEvent) return;\n    const { y } = event.nativeEvent.contentOffset;\n    const nearestOptionIndex = this.nearestOptionIndex(y, column);\n    setTimeout(() => {\n      const isDragging = this.cache.get(`${IS_DRAGGING}${column}`);\n      const isMomentumScrolling = this.cache.get(`${IS_MOMENTUM_SCROLLING}${column}`);\n      if (!isDragging && !isMomentumScrolling) {\n        this.selectIndex(nearestOptionIndex, column);\n      }\n    }, delay);\n  };\n\n  /**\n   * @private\n   * This method is called when the picker is closed unexpectedly without pressing the\n   * \"Done\" button in the top right hand corner.\n   * @return {Promise<void>}\n   */\n  private onCancel = async (): Promise<void> => {\n    const selections = { ...(await this.getCurrentSelections()) };\n    if (this.props.visible !== true) {\n      await this.hide();\n    }\n    this.props.onCancel(selections);\n  };\n\n  /**\n   * @private\n   * This method is called when the right action button (default: \"Done\") is tapped.\n   * It calls the `onConfirm` method and hides the picker.\n   * @return {Promise<void>}\n   */\n  private onConfirm = async (): Promise<void> => {\n    const selections = { ...(await this.getCurrentSelections()) };\n    if (this.props.visible !== true) {\n      await this.hide();\n    }\n    this.props.onConfirm(selections);\n  };\n\n  /**\n   * @private\n   * This method is called when the right action button (default: \"Done\") is tapped.\n   * It calls the `onClose` method and hides the picker.\n   * @return {Promise<void>}\n   */\n  private onClose = async (): Promise<void> => {\n    if (this.props.visible !== true) {\n      await this.hide();\n    }\n    this.props.onClose();\n  };\n\n  /**\n   * @private\n   * Used by the FlatList to render picklist items.\n   * @return {ReactElement}\n   */\n  private renderPickerItem = ({\n    item: {\n      label,\n      column,\n      key,\n      testID,\n    },\n    index,\n  }: {\n    item: RenderablePickerItem;\n    index: number;\n  }): ReactElement => {\n    const { pickerItemTextColor, pickerTextFont } = this.props;\n    return (\n      <View style={styles.pickerItem}>\n        <TouchableOpacity\n          activeOpacity={0.7}\n          onPress={() => this.selectIndex(index, column)}\n          testID={testID || key}\n        >\n          <Text\n            numberOfLines={1}\n            style={[styles.pickerItemText, { color: pickerItemTextColor }, pickerTextFont]}\n          >\n            {label}\n          </Text>\n        </TouchableOpacity>\n      </View>\n    );\n  };\n\n  /**\n   * @private\n   * Forwards value changes onto the client from the Native iOS UIPicker when it is in use\n   * over the default JavaScript picker implementation.\n   * @param {UIPickerValueChangeEvent}\n   * @return {void}\n   */\n  private uiPickerValueChange = (\n    { nativeEvent: { column, value } }: UIPickerValueChangeEvent,\n  ): void => {\n    const { onValueChange } = this.props;\n    onValueChange({ column, value });\n  };\n\n  private customBottomBarHandle = (): ReactElement<any> => {\n    const {\n      toolbarBackgroundColor,\n      toolbarBorderColor,\n      confirmText,\n    } = this.props;\n    return this.props.customBottomBar\n      ? this.props.customBottomBar(this.state.selected, this.onConfirm) : (\n        <BottomBar\n          confirmText={confirmText}\n          toolbarBackground={toolbarBackgroundColor}\n          toolbarBorderColor={toolbarBorderColor}\n          onConfirm={this.onConfirm}\n          onClose={this.onClose}\n        />\n      );\n  };\n\n  private customHeaderBarHandle = (): ReactElement<any> => {\n    const {\n      confirmText,\n      titleText,\n      confirmTextColor,\n      toolbarBackgroundColor,\n      toolbarBorderColor,\n    } = this.props;\n    return this.props.customHeader ? this.props.customHeader(this.state.selected, this.onClose) : (\n      <Toolbar\n        confirmText={confirmText}\n        titleText={titleText}\n        confirmTextColor={confirmTextColor}\n        toolbarBackground={toolbarBackgroundColor}\n        toolbarBorderColor={toolbarBorderColor}\n        onConfirm={this.onConfirm}\n        onClose={this.onClose}\n      />\n    );\n  };\n\n  render() {\n    const { visible } = this.state;\n    const {\n      nativeTestID,\n      options,\n      defaultSelections,\n      pickerItemTextColor,\n      selectionBackgroundColor,\n      selectionBorderColor,\n      backgroundColor,\n      selectionSeparator,\n      pickerColumnHeaderTextStyle,\n      pickerColumsStyle,\n      selectionBorder,\n    } = this.props;\n\n    return (\n      <Modal\n        visible={visible}\n        animationType={Platform.select({\n          ios: 'fade',\n          default: 'none',\n        })}\n        transparent\n        onRequestClose={this.onCancel}\n      >\n        <Animatable.View\n          useNativeDriver\n          animation=\"fadeIn\"\n          easing=\"ease-out-cubic\"\n          duration={ANIMATION_TIME}\n          ref={this.modalContainerRef}\n          style={[styles.modalContainer]}\n          testID={TEST_IDS.PICKER}\n        >\n          <TouchableWithoutFeedback onPress={this.onCancel} testID={TEST_IDS.CLOSE_AREA}>\n            <View style={[styles.closeableContainer, { height: `${22.5}%` }]} />\n          </TouchableWithoutFeedback>\n\n          <Animatable.View\n            useNativeDriver\n            animation={{\n              from: { opacity: 0, translateY: 250 },\n              to: { opacity: 1, translateY: 0 },\n            }}\n            easing=\"ease-out-quint\"\n            delay={100}\n            duration={ANIMATION_TIME}\n            ref={this.pickerContainerRef}\n            style={[\n              styles.pickerContainer,\n              {\n                height: `${55}%`,\n                backgroundColor,\n                borderRadius: 10,\n                marginRight: '8%',\n              },\n            ]}\n          >\n            {this.customHeaderBarHandle()}\n            {pickerColumnHeaderTextStyle\n              && (\n              <View style={styles.headerSelections}>\n                {SegmentedPicker.ApplyPickerOptionDefaults(options).map((\n                  { key: column, flex },\n                ) => (\n                  <View\n                    style={[\n                      styles.pickerColumn,\n                      { flex },\n                      styles.pickerColumnHeader,\n                    ]}\n                    key={`${column}`}\n                  >\n                    <View style={styles.pickerList}>\n                      <Text style={pickerColumnHeaderTextStyle}>{column}</Text>\n                    </View>\n                  </View>\n                ))}\n              </View>\n              )}\n            <View style={styles.selectableArea}>\n              {/* Native iOS Picker is enabled */}\n              {this.isNative() && (\n                <View style={styles.nativePickerContainer}>\n                  <UIPicker\n                    ref={this.uiPickerManager.reactRef}\n                    nativeTestID={nativeTestID}\n                    style={styles.nativePicker}\n                    options={SegmentedPicker.ApplyPickerOptionDefaults(options)}\n                    defaultSelections={defaultSelections}\n                    onValueChange={this.uiPickerValueChange}\n                    onEmitSelections={this.uiPickerManager.ingestSelections}\n                    theme={{\n                      itemHeight: ITEM_HEIGHT,\n                      selectionBackgroundColor,\n                      selectionBorderColor,\n                      pickerItemTextColor,\n                    }}\n                  />\n                </View>\n              )}\n\n              {/* Plain JavaScript implementation (default) */}\n              {!this.isNative() && (\n                <>\n                  <SelectionMarker\n                    backgroundColor={selectionBackgroundColor}\n                    borderColor={selectionBorderColor}\n                    selectionSeparator={selectionSeparator}\n                    selectionBorder={selectionBorder}\n                  />\n                  <View\n                    style={[styles.pickerColumns, pickerColumsStyle]}\n                    onLayout={this.measurePickersHeight}\n                  >\n                    {SegmentedPicker.ApplyPickerOptionDefaults(options).map((\n                      { key: column, testID: columnTestID, flex },\n                    ) => (\n                      <View style={[styles.pickerColumn, { flex }]} key={`${column}`}>\n                        <View style={styles.pickerList}>\n                          <FlatList\n                            data={this.columnItems(column).map(({\n                              label,\n                              value,\n                              key,\n                              testID,\n                            }) => ({\n                              label,\n                              value,\n                              column,\n                              testID,\n                              key: `${column}_${key || label}`,\n                            }))}\n                            renderItem={this.renderPickerItem}\n                            keyExtractor={item => item.key}\n                            initialNumToRender={40}\n                            getItemLayout={(data, index) => (\n                              {\n                                length: ITEM_HEIGHT,\n                                offset: ITEM_HEIGHT * index,\n                                index,\n                              }\n                            )}\n                            contentContainerStyle={{\n                              paddingTop: this.pickersVerticalPadding(),\n                              paddingBottom: this.pickersVerticalPadding(),\n                            }}\n                            showsVerticalScrollIndicator={false}\n                            ref={ref => this.setFlatListRef(column, ref)}\n                            onScroll={event => this.onScroll(event, column)}\n                            onScrollBeginDrag={() => this.onScrollBeginDrag(column)}\n                            onScrollEndDrag={event => this.onScrollEndDrag(event, column)}\n                            onMomentumScrollBegin={event => (\n                              this.onMomentumScrollBegin(event, column)\n                            )}\n                            onMomentumScrollEnd={event => (\n                              this.onMomentumScrollEnd(event, column)\n                            )}\n                            scrollEventThrottle={32}\n                            decelerationRate={Platform.select({\n                              ios: 1,\n                              android: undefined,\n                            })}\n                            testID={`${columnTestID}`}\n                          />\n                        </View>\n                      </View>\n                    ))}\n                  </View>\n                </>\n              )}\n            </View>\n            {this.customBottomBarHandle()}\n          </Animatable.View>\n          <TouchableWithoutFeedback onPress={this.onCancel} testID={TEST_IDS.CLOSE_AREA}>\n            <View style={[styles.closeableContainer, { height: `${22.5}%` }]} />\n          </TouchableWithoutFeedback>\n        </Animatable.View>\n      </Modal>\n    );\n  }\n}\n"],"names":["defaultProps","native","options","visible","selected","defaultSelections","size","confirmText","titleText","nativeTestID","undefined","confirmTextColor","pickerItemTextColor","toolbarBackgroundColor","toolbarBorderColor","selectionBackgroundColor","selectionBorderColor","backgroundColor","onValueChange","onCancel","onConfirm","onClose","propTypes","PropTypes","arrayOf","shape","key","string","isRequired","items","label","value","testID","flex","number","bool","objectOf","propValue","componentName","location","propName","column","String","Error","props","func","ANIMATION_TIME","GUTTER_WIDTH","GUTTER_HEIGHT","ITEM_HEIGHTS","ios","default","TEXT_CORRECTION","TEST_IDS","PICKER","CONFIRM_BUTTON","CLOSE_AREA","TRACKING","FLAT_LIST_REF","LAST_SCROLL_OFFSET","SCROLL_DIRECTION","IS_DRAGGING","IS_MOMENTUM_SCROLLING","IS_DIRTY","ITEM_HEIGHT","Platform","select","StyleSheet","create","modalContainer","width","height","flexDirection","padding","closeableContainer","pickerContainer","alignItems","selectableArea","alignSelf","pickerColumns","paddingTop","paddingRight","paddingBottom","paddingLeft","pickerColumn","marginRight","position","pickerColumnHeader","headerSelections","pickerList","pickerItem","justifyContent","pickerItemText","fontSize","textAlign","nativePickerContainer","Dimensions","get","marginLeft","nativePicker","toolbarContainer","borderBottomWidth","borderTopRightRadius","borderTopLeftRadius","toolbarTitleContainer","closeButton","toolbarConfirmText","toolbarBackground","styles","borderBottomColor","color","borderTopWidth","borderBottomLeftRadius","borderBottomRightRadius","toolbarConfirmContainer","fontWeight","borderColor","selectionMarkerContainer","top","left","selectionMarkerBorder","android","selectionMarker","selectionSeparator","selectionBorder","requireNativeComponent","Cache","constructor","initialState","store","current","PromiseFactory","Map","e","id","Number","nextPromiseId","promises","set","delete","UIPickerManager","React","createRef","index","animated","ref","UIManager","dispatchViewManagerCommand","findNodeHandle","UIPicker","Commands","selectIndex","Promise","resolve","promise","reject","pid","promiseFactory","add","emitSelections","nativeEvent","selections","reactRef","SegmentedPicker","Component","getCurrentSelections","selectedItems","map","option","selectedItem","columnItems","find","item","filter","setState","setTimeout","OS","done","cache","purge","modalContainerRef","fadeOut","emitEvent","zeroFallback","findItemIndexByLabel","length","findItemIndexByValue","isNative","uiPickerManager","list","selectionChanges","scrollToIndex","nativeSelections","reduce","columns","lastOffset","nearestOptionIndex","c","getColumn","findIndex","dirty","Object","keys","forEach","selectValue","includes","setChapterName","setDefaultSelections","event","layout","pickersHeight","state","offsetY","scrollDirection","rounding","adjustedOffsetY","nearestArrayMember","Math","columnSize","sign","y","contentOffset","lastScrollOffset","selectIndexFromScrollPosition","persist","delay","isDragging","isMomentumScrolling","hide","pickerTextFont","customBottomBar","BottomBar","customHeader","componentDidMount","show","componentDidUpdate","prevProps","visibleProp","visibleState","render","pickerColumnHeaderTextStyle","pickerColumsStyle","Animatable.View","from","opacity","translateY","to","pickerContainerRef","borderRadius","customHeaderBarHandle","ApplyPickerOptionDefaults","uiPickerValueChange","ingestSelections","itemHeight","measurePickersHeight","columnTestID","renderPickerItem","data","offset","pickersVerticalPadding","setFlatListRef","onScroll","onScrollBeginDrag","onScrollEndDrag","onMomentumScrollBegin","onMomentumScrollEnd","customBottomBarHandle"],"mappings":";;;;;AAEO,MAAMA,YAAY,GAAG;AAC1BC,EAAAA,MAAM,EAAE,KADkB;AAE1BC,EAAAA,OAAO,EAAE,EAFiB;AAG1BC,EAAAA,OAAO,EAAE,KAHiB;AAI1BC,EAAAA,QAAQ,EAAE,EAJgB;AAK1BC,EAAAA,iBAAiB,EAAE,EALO;AAM1BC,EAAAA,IAAI,EAAE,IANoB;AAO1BC,EAAAA,WAAW,EAAE,MAPa;AAQ1BC,EAAAA,SAAS,EAAE,EARe;AAS1BC,EAAAA,YAAY,EAAEC,SATY;AAU1BC,EAAAA,gBAAgB,EAAE,SAVQ;AAW1BC,EAAAA,mBAAmB,EAAE,SAXK;AAY1BC,EAAAA,sBAAsB,EAAE,SAZE;AAa1BC,EAAAA,kBAAkB,EAAE,SAbM;AAc1BC,EAAAA,wBAAwB,EAAE,SAdA;AAe1BC,EAAAA,oBAAoB,EAAE,SAfI;AAgB1BC,EAAAA,eAAe,EAAE,SAhBS;AAiB1BC,EAAAA,aAAa,EAAE,QAjBW;AAkB1BC,EAAAA,QAAQ,EAAE,QAlBgB;AAmB1BC,EAAAA,SAAS,EAAE,QAnBe;AAoB1BC,EAAAA,OAAO,EAAE;AApBiB,CAArB;AAuBA,MAAMC,SAAS,GAAG;AACvB;AACApB,EAAAA,OAAO,EAAEqB,SAAS,CAACC,OAAV,CACPD,SAAS,CAACE,KAAV,CAAgB;AACdC,IAAAA,GAAG,EAAEH,SAAS,CAACI,MAAV,CAAiBC,UADR;AAEdC,IAAAA,KAAK,EAAEN,SAAS,CAACC,OAAV,CACLD,SAAS,CAACE,KAAV,CAAgB;AACdK,MAAAA,KAAK,EAAEP,SAAS,CAACI,MAAV,CAAiBC,UADV;AAEdG,MAAAA,KAAK,EAAER,SAAS,CAACI,MAAV,CAAiBC,UAFV;AAGdF,MAAAA,GAAG,EAAEH,SAAS,CAACI,MAHD;AAIdK,MAAAA,MAAM,EAAET,SAAS,CAACI;AAJJ,KAAhB,CADK,EAOLC,UATY;AAUdI,IAAAA,MAAM,EAAET,SAAS,CAACI,MAVJ;AAWdM,IAAAA,IAAI,EAAEV,SAAS,CAACW;AAXF,GAAhB,CADO,EAcPN,UAhBqB;AAiBvBzB,EAAAA,OAAO,EAAEoB,SAAS,CAACY,IAjBI;AAkBvB9B,EAAAA,iBAAiB,EAAEkB,SAAS,CAACa,QAAV,CAAmB,CACpCC,SADoC,EAEpCX,GAFoC,EAGpCY,aAHoC,EAIpCC,QAJoC,EAKpCC,QALoC;AAOpC,UAAMC,MAAM,GAAGJ,SAAS,CAACX,GAAD,CAAxB;AACA,WAAQe,MAAM,IAAIC,MAAM,CAACD,MAAD,CAAN,KAAmBA,MAA9B,GACL,IAAIE,KAAJ,mBACoBH,4BAA4BF,kBAA9C,GACE,yEAFJ,CADK,GAKH,IALJ;AAMD,GAdkB,CAlBI;AAiCvBhC,EAAAA,IAAI,EAAE,CAACsC,KAAD,EAAaJ,QAAb,EAA+BF,aAA/B;AACJ,UAAMP,KAAK,GAAGa,KAAK,CAACJ,QAAD,CAAnB;AACA,QAAIT,KAAK,KAAKrB,SAAd,EAAyB,OAAO,IAAP;AACzB,WAAQqB,KAAK,GAAG,CAAR,IAAaA,KAAK,GAAG,CAAtB,GACL,IAAIY,KAAJ,mBACoBH,4BAA4BF,kBAA9C,GACE,oFADF,GAEE,wCAHJ,CADK,GAMH,IANJ;AAOD,GA3CsB;AA4CvB/B,EAAAA,WAAW,EAAEgB,SAAS,CAACI,MA5CA;AA6CvBnB,EAAAA,SAAS,EAAEe,SAAS,CAACI,MA7CE;AA8CvBlB,EAAAA,YAAY,EAAEc,SAAS,CAACI,MA9CD;AA+CvB;AACAhB,EAAAA,gBAAgB,EAAEY,SAAS,CAACI,MAhDL;AAiDvBf,EAAAA,mBAAmB,EAAEW,SAAS,CAACI,MAjDR;AAkDvBd,EAAAA,sBAAsB,EAAEU,SAAS,CAACI,MAlDX;AAmDvBb,EAAAA,kBAAkB,EAAES,SAAS,CAACI,MAnDP;AAoDvBZ,EAAAA,wBAAwB,EAAEQ,SAAS,CAACI,MApDb;AAqDvBX,EAAAA,oBAAoB,EAAEO,SAAS,CAACI,MArDT;AAsDvBV,EAAAA,eAAe,EAAEM,SAAS,CAACI,MAtDJ;AAuDvB;AACAT,EAAAA,aAAa,EAAEK,SAAS,CAACsB,IAxDF;AAyDvB1B,EAAAA,QAAQ,EAAEI,SAAS,CAACsB,IAzDG;AA0DvBzB,EAAAA,SAAS,EAAEG,SAAS,CAACsB,IA1DE;AA2DvBxB,EAAAA,OAAO,EAAEE,SAAS,CAACsB;AA3DI,CAAlB;;ACzBP;;;MAGaC,cAAc,GAAG;AAE9B;;;;MAGaC,YAAY,GAAG;MACfC,aAAa,GAAG;MAChBC,YAAY,GAAG;AAAEC,EAAAA,GAAG,EAAE,EAAP;AAAWC,EAAAA,OAAO,EAAE;AAApB;MACfC,eAAe,GAAG;AAE/B;;;;MAGaC,QAAQ,GAAG;AACtBC,EAAAA,MAAM,EAAE,kBADc;AAEtBC,EAAAA,cAAc,EAAE,0BAFM;AAGtBC,EAAAA,UAAU,EAAE;AAHU;AAMxB;;;;MAGaC,QAAQ,GAAG;AACtBC,EAAAA,aAAa,EAAE,gBADO;AAEtBC,EAAAA,kBAAkB,EAAE,qBAFE;AAGtBC,EAAAA,gBAAgB,EAAE,mBAHI;AAItBC,EAAAA,WAAW,EAAE,cAJS;AAKtBC,EAAAA,qBAAqB,EAAE,wBALD;AAMtBC,EAAAA,QAAQ,EAAE;AANY;;ACjBxB,MAAMC,WAAW,GAAGC,QAAQ,CAACC,MAAT,CAAgBjB,YAAhB,CAApB;AAEA,aAAekB,UAAU,CAACC,MAAX,CAAkB;AAC/BC,EAAAA,cAAc,EAAE;AACdC,IAAAA,KAAK,EAAE,MADO;AAEdC,IAAAA,MAAM,EAAE,MAFM;AAGdtD,IAAAA,eAAe,EAAE,oBAHH;AAIdgB,IAAAA,IAAI,EAAE,CAJQ;AAKduC,IAAAA,aAAa,EAAE,QALD;AAMdC,IAAAA,OAAO,EAAE;AANK,GADe;AAU/BC,EAAAA,kBAAkB,EAAE;AAClBJ,IAAAA,KAAK,EAAE;AADW,GAVW;AAc/BK,EAAAA,eAAe,EAAE;AACfL,IAAAA,KAAK,EAAE,MADQ;AAEfrC,IAAAA,IAAI,EAAE,CAFS;AAGfuC,IAAAA,aAAa,EAAE,QAHA;AAIfI,IAAAA,UAAU,EAAE;AAJG,GAdc;AAqB/BC,EAAAA,cAAc,EAAE;AACd5C,IAAAA,IAAI,EAAE,CADQ;AAEd6C,IAAAA,SAAS,EAAE;AAFG,GArBe;AA0B/BC,EAAAA,aAAa,EAAE;AACb9C,IAAAA,IAAI,EAAE,CADO;AAEbuC,IAAAA,aAAa,EAAE,KAFF;AAGbQ,IAAAA,UAAU,EAAEhC,aAHC;AAIbiC,IAAAA,YAAY,EAAE,CAJD;AAKbC,IAAAA,aAAa,EAAElC,aALF;AAMbmC,IAAAA,WAAW,EAAEpC;AANA,GA1BgB;AAmC/BqC,EAAAA,YAAY,EAAE;AACZnD,IAAAA,IAAI,EAAE,CADM;AAEZoD,IAAAA,WAAW,EAAE,EAFD;AAGZC,IAAAA,QAAQ,EAAE;AAHE,GAnCiB;AAyC/BC,EAAAA,kBAAkB,EAAE;AAClBJ,IAAAA,WAAW,EAAE,EADK;AAElBE,IAAAA,WAAW,EAAE,CAFK;AAGlBH,IAAAA,aAAa,EAAE;AAHG,GAzCW;AA+C/BM,EAAAA,gBAAgB,EAAE;AAChBhB,IAAAA,aAAa,EAAE;AADC,GA/Ca;AAmD/BiB,EAAAA,UAAU,EAAE;AACVnB,IAAAA,KAAK,EAAE,MADG;AAEVC,IAAAA,MAAM,EAAE;AAFE,GAnDmB;AAwD/BmB,EAAAA,UAAU,EAAE;AACVpB,IAAAA,KAAK,EAAE,MADG;AAEVC,IAAAA,MAAM,EAAEP,WAFE;AAGV2B,IAAAA,cAAc,EAAE;AAHN,GAxDmB;AA8D/BC,EAAAA,cAAc,EAAE;AACdC,IAAAA,QAAQ,EAAE,EADI;AAEdb,IAAAA,UAAU,EAAE,CAFE;AAGdC,IAAAA,YAAY,EAAE,CAHA;AAIdC,IAAAA,aAAa,EAAE9B,eAAe,GAAG,CAJnB;AAKd+B,IAAAA,WAAW,EAAE,CALC;AAMdW,IAAAA,SAAS,EAAE;AANG,GA9De;AAuE/BC,EAAAA,qBAAqB,EAAE;AACrBzB,IAAAA,KAAK,EAAE0B,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyB3B,KAAzB,GAAkCvB,YAAY,GAAG,CADnC;AAErBwB,IAAAA,MAAM,EAAE,MAFa;AAGrB2B,IAAAA,UAAU,EAAEnD;AAHS,GAvEQ;AA6E/BoD,EAAAA,YAAY,EAAE;AACZ7B,IAAAA,KAAK,EAAE,MADK;AAEZC,IAAAA,MAAM,EAAE;AAFI;AA7EiB,CAAlB,CAAf;;ACPA,eAAeJ,UAAU,CAACC,MAAX,CAAkB;AAC/BgC,EAAAA,gBAAgB,EAAE;AAChB9B,IAAAA,KAAK,EAAE,MADS;AAEhBC,IAAAA,MAAM,EAAE,EAFQ;AAGhB8B,IAAAA,iBAAiB,EAAE,CAHH;AAIhB7B,IAAAA,aAAa,EAAE,KAJC;AAKhBI,IAAAA,UAAU,EAAE,QALI;AAMhBE,IAAAA,SAAS,EAAE,YANK;AAOhBwB,IAAAA,oBAAoB,EAAE,EAPN;AAQhBC,IAAAA,mBAAmB,EAAE;AARL,GADa;AAY/BC,EAAAA,qBAAqB,EAAE;AACrBlC,IAAAA,KAAK,EAAE,KADc;AAErBM,IAAAA,UAAU,EAAE;AAFS,GAZQ;AAiB/B6B,EAAAA,WAAW,EAAE;AACXnC,IAAAA,KAAK,EAAE,KADI;AAEXa,IAAAA,WAAW,EAAE;AAFF,GAjBkB;AAsB/BuB,EAAAA,kBAAkB,EAAE;AAClBb,IAAAA,QAAQ,EAAE;AADQ;AAtBW,CAAlB,CAAf;;ACaA;;;;;AAIA,eAAe,CAAC;AACdtF,EAAAA,WADc;AAEdC,EAAAA,SAFc;AAGdG,EAAAA,gBAHc;AAIdgG,EAAAA,iBAJc;AAKd7F,EAAAA,kBALc;AAMdM,EAAAA,SANc;AAOdC,EAAAA;AAPc,CAAD;AAAA;AASb,oBAAC,IAAD;AACE,EAAA,KAAK,EAAE,CACLuF,QAAM,CAACR,gBADF,EAEL;AACEnF,IAAAA,eAAe,EAAE0F,iBADnB;AAEEE,IAAAA,iBAAiB,EAAE/F;AAFrB,GAFK;AADT;AAAA;AASE,oBAAC,gBAAD;AACE,EAAA,aAAa,EAAE,GADjB;AAEE,EAAA,OAAO,EAAEO,OAFX;AAGE,EAAA,MAAM,EAAEgC,QAAQ,CAACE,cAHnB;AAIE,EAAA,KAAK,EAAEqD,QAAM,CAACH;AAJhB;AAAA;AAME,oBAAC,IAAD;AAAA;AACE,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAE,CAACG,QAAM,CAACF,kBAAR,EAA4B;AAAEI,IAAAA,KAAK,EAAEnG,gBAAT;AAA2BkF,IAAAA,QAAQ,EAAE;AAArC,GAA5B;AAAb,OADF,CANF,CATF;AAAA;AAqBE,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAEe,QAAM,CAACJ;AAApB;AAAA;AACE,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAE,CAACI,QAAM,CAACF,kBAAR,EAA4B;AAAEI,IAAAA,KAAK,EAAEnG;AAAT,GAA5B;AAAb,GACGH,SADH,CADF,CArBF,CATF;;ACjBA,eAAe2D,UAAU,CAACC,MAAX,CAAkB;AAC/BgC,EAAAA,gBAAgB,EAAE;AAChB9B,IAAAA,KAAK,EAAE,MADS;AAEhBC,IAAAA,MAAM,EAAE,EAFQ;AAGhBC,IAAAA,aAAa,EAAE,KAHC;AAIhBmB,IAAAA,cAAc,EAAE,eAJA;AAKhBf,IAAAA,UAAU,EAAE,QALI;AAMhBE,IAAAA,SAAS,EAAE,YANK;AAOhBiC,IAAAA,cAAc,EAAE,CAPA;AAQhBC,IAAAA,sBAAsB,EAAE,EARR;AAShBC,IAAAA,uBAAuB,EAAE;AATT,GADa;AAa/BC,EAAAA,uBAAuB,EAAE;AACvB5C,IAAAA,KAAK,EAAE,MADgB;AAEvBM,IAAAA,UAAU,EAAE;AAFW,GAbM;AAkB/B8B,EAAAA,kBAAkB,EAAE;AAClBS,IAAAA,UAAU,EAAE,MADM;AAElBtB,IAAAA,QAAQ,EAAE;AAFQ;AAlBW,CAAlB,CAAf;;ACWA;;;;;AAIA,iBAAe,CAAC;AACdtF,EAAAA,WADc;AAEdoG,EAAAA,iBAFc;AAGd7F,EAAAA,kBAHc;AAIdM,EAAAA;AAJc,CAAD;AAAA;AAMb,oBAAC,IAAD;AACE,EAAA,KAAK,EAAE,CACLwF,QAAM,CAACR,gBADF,EAEL;AACEnF,IAAAA,eAAe,EAAE0F,iBADnB;AAEES,IAAAA,WAAW,EAAEtG;AAFf,GAFK;AADT;AAAA;AASE,oBAAC,gBAAD;AACE,EAAA,aAAa,EAAE,GADjB;AAEE,EAAA,OAAO,EAAEM,SAFX;AAGE,EAAA,MAAM,EAAEiC,QAAQ,CAACE,cAHnB;AAIE,EAAA,KAAK,EAAE,CAACqD,QAAM,CAACM,uBAAR;AAJT;AAAA;AAME,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAE,CAACN,QAAM,CAACF,kBAAR,EAA4B;AAAEI,IAAAA,KAAK,EAAE;AAAT,GAA5B;AAAb,GACGvG,WADH,CANF,CATF,CANF;;ACfA,MAAMyD,aAAW,GAAGC,QAAQ,CAACC,MAAT,CAAgBjB,YAAhB,CAApB;AAEA,eAAekB,UAAU,CAACC,MAAX,CAAkB;AAC/BiD,EAAAA,wBAAwB,EAAE;AACxB/C,IAAAA,KAAK,EAAE,MADiB;AAExBC,IAAAA,MAAM,EAAE,MAFgB;AAGxBe,IAAAA,QAAQ,EAAE,UAHc;AAIxBgC,IAAAA,GAAG,EAAE,CAJmB;AAKxBC,IAAAA,IAAI,EAAE,CALkB;AAMxBtF,IAAAA,IAAI,EAAE,CANkB;AAOxB2C,IAAAA,UAAU,EAAE,QAPY;AAQxBe,IAAAA,cAAc,EAAE,QARQ;AASxBR,IAAAA,WAAW,EAAEpC,YATW;AAUxBkC,IAAAA,YAAY,EAAElC;AAVU,GADK;AAc/B;AACAyE,EAAAA,qBAAqB,EAAE;AACrBlD,IAAAA,KAAK,EAAE,MADc;AAErBC,IAAAA,MAAM,EAAEN,QAAQ,CAACC,MAAT,CAAgB;AAAEhB,MAAAA,GAAG,EAAE,GAAP;AAAYuE,MAAAA,OAAO,EAAE;AAArB,KAAhB;AAFa,GAfQ;AAoB/BC,EAAAA,eAAe,EAAE;AACfpD,IAAAA,KAAK,EAAE,MADQ;AAEfC,IAAAA,MAAM,EAAEP;AAFO;AApBc,CAAlB,CAAf;;ACMA;;;;AAGA,uBAAe,CAAC;AACd/C,EAAAA,eADc;AAEdmG,EAAAA,WAFc;AAGdO,EAAAA,kBAHc;AAIdC,EAAAA;AAJc,CAAD;AAAA;AAMb,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAEhB,QAAM,CAACS;AAApB;AAAA;AACE,oBAAC,IAAD;AACE,EAAA,KAAK,EAAE,CACLT,QAAM,CAACY,qBADF,EAEL;AAAEvG,IAAAA,eAAe,EAAEmG;AAAnB,GAFK;AADT,EADF;AAAA;AAOE,oBAAC,IAAD;AAAM,EAAA,KAAK,EAAE,CAACR,QAAM,CAACc,eAAR,EAAyB;AAAEzG,IAAAA,eAAe,EAAEA;AAAnB,GAAzB,EAA+D2G,eAA/D;AAAb,GAAgGD,kBAAhG,CAPF;AAAA;AAQE,oBAAC,IAAD;AACE,EAAA,KAAK,EAAE,CACLf,QAAM,CAACY,qBADF,EAEL;AAAEvG,IAAAA,eAAe,EAAEmG;AAAnB,GAFK;AADT,EARF,CANF;;ACZA,eAAeS,sBAAsB,CAAC,UAAD,CAArC;;ACIA;;;;MAIqBC;AAGnBC,EAAAA,YAAYC,eAAsB;AAclC;;;;;AAKA,YAAA,GAAOtG,GAAD;AACJ,UAAIA,GAAG,IAAI,KAAKuG,KAAhB,EAAuB;AACrB,eAAO,KAAKA,KAAL,CAAWvG,GAAX,CAAP;AACD;;AACD,aAAO,IAAP;AACD,KALD;AAOA;;;;;;;;AAMA,YAAA,GAAM,CAACA,GAAD,EAAcK,KAAd;AACJ,WAAKkG,KAAL,CAAWvG,GAAX,IAAkBK,KAAlB;AACD,KAFD;AAIA;;;;;;AAIA,cAAA,GAAQ;AACN,WAAKkG,KAAL,GAAa,EAAb;AACD,KAFD;;AAvCE,SAAKA,KAAL,qBACKD,aADL;AAGD;AAED;;;;;;AAIA,MAAIE,OAAJ;AACE,WAAO,KAAKD,KAAZ;AACD;;;;ACpBH;;;;;;;;;;MAUqBE;AAArBJ,EAAAA;AACU,iBAAA,GAAyC,IAAIK,GAAJ,EAAzC;AACA,sBAAA,GAAwB,CAAxB;AAER;;;;;;AAKA,YAAA,GAAOC,CAAD;AACJ,YAAMC,EAAE,GAAGC,MAAM,CAAC,KAAKC,aAAN,CAAjB;AACA,WAAKC,QAAL,CAAcC,GAAd,CAAkBJ,EAAlB,EAAsBD,CAAtB;AACA,WAAKG,aAAL,IAAsB,CAAtB;AACA,aAAOF,EAAP;AACD,KALD;AAOA;;;;;;;AAKA,YAAA,GAAOA,EAAD,IAA6C,KAAKG,QAAL,CAAcxC,GAAd,CAAkBqC,EAAlB,CAAnD;AAEA;;;;;;;AAKA,eAAA,GAAUA,EAAD,IAAyB,KAAKG,QAAL,CAAcE,MAAd,CAAqBL,EAArB,CAAlC;AACD;;;;ACnCD;;;;MAGqBM;AAArBb,EAAAA;AACU,YAAA,GAA4Bc,KAAK,CAACC,SAAN,EAA5B;AACA,uBAAA,GAAiC,IAAIX,cAAJ,EAAjC;AAMR;;;;;;;;AAOA,oBAAA,GAAc,CAACY,KAAD,EAAgBtG,MAAhB,EAAgCuG,WAAoB,IAApD;AACZ,UAAI,KAAKC,GAAL,CAASf,OAAb,EAAsB;AACpBgB,QAAAA,SAAS,CAACC,0BAAV,CACEC,cAAc,CAAC,KAAKH,GAAL,CAASf,OAAV,CADhB,EAEGgB,SAAiB,CAACG,QAAlB,CAA2BC,QAA3B,CAAoCC,WAFvC,EAGE,CAACR,KAAD,EAAQtG,MAAR,EAAgBuG,QAAhB,CAHF;AAKD;AACF,KARD;AAUA;;;;;;AAIA,6BAAA,GAAuB;AACrB,UAAI,CAAC,KAAKC,GAAL,CAASf,OAAd,EAAuB;AACrB,eAAOsB,OAAO,CAACC,OAAR,CAAgB,EAAhB,CAAP;AACD;;AACD,YAAMC,OAAO,GAAwB,IAAIF,OAAJ,CAAY,CAACC,OAAD,EAAUE,MAAV;AAC/C,cAAMC,GAAG,GAAG,KAAKC,cAAL,CAAoBC,GAApB,CAAwB;AAAEL,UAAAA,OAAF;AAAWE,UAAAA;AAAX,SAAxB,CAAZ;AACAT,QAAAA,SAAS,CAACC,0BAAV,CACEC,cAAc,CAAC,KAAKH,GAAL,CAASf,OAAV,CADhB,EAEGgB,SAAiB,CAACG,QAAlB,CAA2BC,QAA3B,CAAoCS,cAFvC,EAGE,CAACH,GAAD,CAHF;AAKD,OAPoC,CAArC;AAQA,aAAOF,OAAP;AACD,KAbD;AAeA;;;;;;;;AAMA,yBAAA,GAAmB,CACjB;AAAEM,MAAAA,WAAW,EAAE;AAAEC,QAAAA,UAAF;AAAcL,QAAAA;AAAd;AAAf,KADiB;AAGjB,YAAMF,OAAO,GAAG,KAAKG,cAAL,CAAoB5D,GAApB,CAAwB2D,GAAxB,CAAhB;;AACA,UAAIF,OAAJ,EAAa;AACXA,QAAAA,OAAO,CAACD,OAAR,CAAgBQ,UAAhB;AACA,aAAKJ,cAAL,CAAoBlB,MAApB,CAA2BiB,GAA3B;AACD;AACF,KARD;AASD;;AAvDC,MAAIM,QAAJ;AACE,WAAO,KAAKjB,GAAZ;AACD;;;;ACoBH,MAAMjF,aAAW,GAAGC,QAAQ,CAACC,MAAT,CAAgBjB,YAAhB,CAApB;AAEA,MAAM;AACJS,EAAAA,aADI;AAEJC,EAAAA,kBAFI;AAGJC,EAAAA,gBAHI;AAIJC,EAAAA,WAJI;AAKJC,EAAAA,qBALI;AAMJC,EAAAA;AANI,IAOFN,QAPJ;MAqDqB0G,wBAAwBC;AAuB3CrC,EAAAA,YAAYnF;AACV,UAAMA,KAAN;AAPF,cAAA,GAAe,IAAIkF,KAAJ,EAAf;;AACA,wBAAA,GAAmC,IAAIc,eAAJ,EAAnC;AACA,yBAAA,GAA+B,EAA/B;AACA,0BAAA,GAA0CC,KAAK,CAACC,SAAN,EAA1C;AACA,2BAAA,GAA2CD,KAAK,CAACC,SAAN,EAA3C;;AAkCA,uBAAA,GAAiB;AACf,YAAMmB,UAAU,sBAAS,MAAM,KAAKI,oBAAL,IAA/B;AACA,YAAMC,aAAa,GAAG,KAAK1H,KAAL,CAAW1C,OAAX,CAAmBqK,GAAnB,CAAwBC,MAAD;AAC3C,cAAM;AAAE9I,UAAAA;AAAF,YAAU8I,MAAhB;AACA,cAAMC,YAAY,GAAG,KAAKC,WAAL,CAAiBhJ,GAAjB,EAAsBiJ,IAAtB,CAA2BC,IAAI,IAAIA,IAAI,CAAC7I,KAAL,KAAekI,UAAU,CAACvI,GAAD,CAA5D,CAArB;AACA,eAAO+I,YAAY,GAAGA,YAAY,CAAC3I,KAAhB,GAAwB,IAA3C;AACD,OAJqB,EAInB+I,MAJmB,CAIZ/I,KAAK,IAAIA,KAAK,KAAK,IAJP,CAAtB;AAKA,WAAKgJ,QAAL,CAAc;AAAE1K,QAAAA,QAAQ,EAAEkK;AAAZ,OAAd;AACD,KARD;AAUA;;;;;;;AAKA,aAAA,GAAO;AACL,WAAKQ,QAAL,CAAc;AAAE3K,QAAAA,OAAO,EAAE;AAAX,OAAd;AACA,aAAO,IAAIqJ,OAAJ,CAAYC,OAAO,IAAIsB,UAAU,CAACtB,OAAD,EAAU3G,cAAV,CAAjC,CAAP;AACD,KAHD;AAKA;;;;;;;AAKA,aAAA,GAAO,YACL,IAAI0G,OAAJ,CAAY,MAAOC,OAAP;;;AACV,UAAIxF,QAAQ,CAAC+G,EAAT,KAAgB,KAApB,EAA2B;AACzB,aAAKF,QAAL,CAAc;AAAE3K,UAAAA,OAAO,EAAE;AAAX,SAAd,EAAkC;AAChC,gBAAM,IAAIqJ,OAAJ,CAAYyB,IAAI,IAAIF,UAAU,CAACE,IAAD,EAAOnI,cAAP,CAA9B,CAAN;AACA,eAAKoI,KAAL,CAAWC,KAAX;AACA1B,UAAAA,OAAO;AACR,SAJD;AAKD,OAND,MAMO;AACL,qBAAM,KAAK2B,iBAAL,CAAuBlD,iDAASmD,QAAQvI,eAA9C;AACA,aAAKgI,QAAL,CAAc;AAAE3K,UAAAA,OAAO,EAAE;AAAX,SAAd,EAAkC;AAChC,eAAK+K,KAAL,CAAWC,KAAX;AACA1B,UAAAA,OAAO;AACR,SAHD;AAID;AACF,KAdD,CADF;AAkBA;;;;;;;;;;;;AAUA,oBAAA,GAAc,CACZ3H,KADY,EAEZW,MAFY,EAGZuG,WAAoB,IAHR,EAIZsC,YAAqB,IAJT,EAKZC,eAAwB,KALZ;AAOZ,YAAMxC,KAAK,GAAG,KAAKyC,oBAAL,CAA0B1J,KAA1B,EAAiCW,MAAjC,CAAd;;AACA,UAAIsG,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,aAAKQ,WAAL,CAAiBR,KAAjB,EAAwBtG,MAAxB,EAAgCuG,QAAhC,EAA0CsC,SAA1C;AACD,OAFD,MAEO,IAAI,KAAKZ,WAAL,CAAiBjI,MAAjB,EAAyBgJ,MAAzB,GAAkC,CAAlC,IAAuCF,YAA3C,EAAyD;AAC9D,aAAKhC,WAAL,CAAiB,CAAjB,EAAoB9G,MAApB,EAA4BuG,QAA5B,EAAsCsC,SAAtC;AACD;AACF,KAbD;AAeA;;;;;;;;;;;;AAUA,oBAAA,GAAc,CACZvJ,KADY,EAEZU,MAFY,EAGZuG,WAAoB,IAHR,EAIZsC,YAAqB,IAJT,EAKZC,eAAwB,KALZ;AAOZ,YAAMxC,KAAK,GAAG,KAAK2C,oBAAL,CAA0B3J,KAA1B,EAAiCU,MAAjC,CAAd;;AACA,UAAIsG,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,aAAKQ,WAAL,CAAiBR,KAAjB,EAAwBtG,MAAxB,EAAgCuG,QAAhC,EAA0CsC,SAA1C;AACD,OAFD,MAEO,IAAI,KAAKZ,WAAL,CAAiBjI,MAAjB,EAAyBgJ,MAAzB,GAAkC,CAAlC,IAAuCF,YAA3C,EAAyD;AAC9D,aAAKhC,WAAL,CAAiB,CAAjB,EAAoB9G,MAApB,EAA4BuG,QAA5B,EAAsCsC,SAAtC;AACD;AACF,KAbD;AAeA;;;;;;;;;;;AASA,oBAAA,GAAc,CACZvC,KADY,EAEZtG,MAFY,EAGZuG,WAAoB,IAHR,EAIZsC,YAAqB,IAJT;AAMZ,UAAI,KAAKK,QAAL,EAAJ,EAAqB;AACnB,aAAKC,eAAL,CAAqBrC,WAArB,CAAiCR,KAAjC,EAAwCtG,MAAxC,EAAgDuG,QAAhD;AACA;AACD;;AACD,YAAM;AAAE9H,QAAAA;AAAF,UAAoB,KAAK0B,KAA/B;AACA,YAAMiJ,IAAI,GAAG,KAAKX,KAAL,CAAWjF,GAAX,IAAkBvC,gBAAgBjB,QAAlC,CAAb;;AACA,UAAI,CAACoJ,IAAL,EAAW;AACT;AACD;;AACD,YAAMhK,KAAK,GAAG,KAAK6I,WAAL,CAAiBjI,MAAjB,CAAd;;AACA,UAAI,CAAC,KAAKqJ,gBAAL,CAAsBrJ,MAAtB,CAAD,IACE,KAAKqJ,gBAAL,CAAsBrJ,MAAtB,KACC,KAAKqJ,gBAAL,CAAsBrJ,MAAtB,MAAkCZ,KAAK,CAACkH,KAAD,CAAL,CAAahH,KAFtD,EAGE;AACA,aAAK+J,gBAAL,mCACK,KAAKA;AACR,WAACrJ,MAAD,GAAUZ,KAAK,CAACkH,KAAD,CAAL,CAAahH;UAFzB;AAKA8J,QAAAA,IAAI,CAACE,aAAL,CAAmB;AACjBhD,UAAAA,KADiB;AAEjBC,UAAAA;AAFiB,SAAnB;;AAKA,YAAIsC,SAAJ,EAAe;AACbpK,UAAAA,aAAa,CAAC;AAAEuB,YAAAA,MAAF;AAAUV,YAAAA,KAAK,EAAEF,KAAK,CAACkH,KAAD,CAAL,CAAahH;AAA9B,WAAD,CAAb;AACD;AACF;AACF,KAlCD;AAoCA;;;;;;;AAKA,6BAAA,GAAuB;AACrB,UAAI,KAAK4J,QAAL,EAAJ,EAAqB;AACnB,cAAMK,gBAAgB,GAAG,MAAM,KAAKJ,eAAL,CAAqBvB,oBAArB,EAA/B;AACA,eAAO2B,gBAAP;AACD;;AACD,YAAM;AAAE9L,QAAAA;AAAF,UAAc,KAAK0C,KAAzB;AACA,aAAO4G,OAAO,CAACC,OAAR,CACLvJ,OAAO,CAAC+L,MAAR,CAAe,CAACC,OAAD,EAAUzJ,MAAV;;;AACb,cAAM0J,UAAU,GAAG,KAAKjB,KAAL,CAAWjF,GAAX,IAAkBtC,qBAAqBlB,MAAM,CAACf,KAA9C,CAAnB;AACA,cAAMqH,KAAK,GAAG,KAAKqD,kBAAL,CACZD,UAAU,IAAI,CADF,EAEZ1J,MAAM,CAACf,GAFK,CAAd;AAIA,cAAMG,KAAK,GAAG,KAAK6I,WAAL,CAAiBjI,MAAM,CAACf,GAAxB,CAAd;AACA,+CACKwK;AACH,WAACzJ,MAAM,CAACf,GAAR,SAAcG,KAAK,CAACkH,KAAD,2CAAShH;UAF9B;AAID,OAXD,EAWG,EAXH,CADK,CAAP;AAcD,KApBD;AAsBA;;;;;;;;AAMQ,iBAAA,GAAW,MACjB,KAAKa,KAAL,CAAW3C,MAAX,IAAqBgE,QAAQ,CAAC+G,EAAT,KAAgB,KAD/B;AAIR;;;;;;;AAKQ,kBAAA,GAAatJ,GAAD,IAClB,KAAKkB,KAAL,CAAW1C,OAAX,CAAmB2K,MAAnB,CAA0BwB,CAAC,IAAIA,CAAC,CAAC3K,GAAF,KAAUA,GAAzC,EAA8C,CAA9C,CADM;AAIR;;;;;;;AAKQ,oBAAA,GAAeA,GAAD;;;AAAoC,aAAA,OAAA,KAAK4K,SAAL,CAAe5K,GAAf,2CAAqBG,KAArB,KAA8B,EAA9B;AAAgC,KAAlF;AAER;;;;;;;;AAMQ,6BAAA,GAAuB,CAACC,KAAD,EAAgBW,MAAhB;AAC7B,YAAMZ,KAAK,GAAG,KAAK6I,WAAL,CAAiBjI,MAAjB,CAAd;AACA,aAAOZ,KAAK,CAAC0K,SAAN,CAAgB3B,IAAI,IACzBA,IAAI,CAAC9I,KAAL,KAAeA,KADV,CAAP;AAGD,KALO;AAOR;;;;;;;;AAMQ,6BAAA,GAAuB,CAACC,KAAD,EAAgBU,MAAhB;AAC7B,YAAMZ,KAAK,GAAG,KAAK6I,WAAL,CAAiBjI,MAAjB,CAAd;AACA,aAAOZ,KAAK,CAAC0K,SAAN,CAAgB3B,IAAI,IACzBA,IAAI,CAAC7I,KAAL,KAAeA,KADV,CAAP;AAGD,KALO;AAOR;;;;;;;AAKQ,6BAAA,GAAuB;AAC7B,YAAM;AAAE7B,QAAAA,OAAF;AAAWG,QAAAA;AAAX,UAAiC,KAAKuC,KAA5C;AACA,YAAM4J,KAAK,GAAG,KAAKtB,KAAL,CAAWjF,GAAX,CAAelC,QAAf,CAAd;;AACA,UAAI,CAACyI,KAAL,EAAY;AACVzB,QAAAA,UAAU,CAAC;AACT;AACA0B,UAAAA,MAAM,CAACC,IAAP,CAAYrM,iBAAZ,EACGsM,OADH,CACWlK,MAAM,IACb,KAAKmK,WAAL,CACEvM,iBAAiB,CAACoC,MAAD,CADnB,EAEEA,MAFF,EAGE,KAHF,EAIE,KAJF,EAKE,IALF,CAFJ;;AAYAvC,UAAAA,OAAO,CACJ2K,MADH,CACUpI,MAAM,IACZ,CAACgK,MAAM,CAACC,IAAP,CAAYrM,iBAAZ,EAA+BwM,QAA/B,CAAwCpK,MAAM,CAACf,GAA/C,CAAD,IACG,KAAKgJ,WAAL,CAAiBjI,MAAM,CAACf,GAAxB,EAA6B+J,MAA7B,GAAsC,CAH7C,EAKGkB,OALH,CAKWlK,MAAM,IACb,KAAK8G,WAAL,CAAiB,CAAjB,EAAoB9G,MAAM,CAACf,GAA3B,EAAgC,KAAhC,EAAuC,KAAvC,CANJ;AAQD,SAtBS,EAsBP,CAtBO,CAAV;AAuBA,aAAKwJ,KAAL,CAAWxC,GAAX,CAAe3E,QAAf,EAAyB,IAAzB;AACAgH,QAAAA,UAAU,CAAC,MAAM,KAAK+B,cAAL,EAAP,EAA8B,GAA9B,CAAV;AACD;AACF,KA9BO;AAgCR;;;;;;;;AAMQ,uBAAA,GAAiB,CAACrK,MAAD,EAAiBwG,GAAjB;AACvB,UAAIA,GAAJ,EAAS;AACP,aAAKiC,KAAL,CAAWxC,GAAX,IAAkBhF,gBAAgBjB,QAAlC,EAA4CwG,GAA5C;AACA,aAAK8D,oBAAL;AACD;AACF,KALO;AAOR;;;;;;AAIQ,6BAAA,GAAwBC,KAAD;AAC7B,YAAM;AAAEzI,QAAAA;AAAF,UAAayI,KAAK,CAAChD,WAAN,CAAkBiD,MAArC;AACA,WAAKnC,QAAL,CAAc;AAAEoC,QAAAA,aAAa,EAAE3I;AAAjB,OAAd;AACD,KAHO;AAKR;;;;;;;;AAMQ,+BAAA,GAAyB;AAC/B,YAAM;AAAE2I,QAAAA;AAAF,UAAoB,KAAKC,KAA/B;AACA,aAAO,CAACD,aAAa,GAAGlJ,aAAhB,GAA+BhB,aAAa,GAAG,CAAhD,IAAsD,CAA7D;AACD,KAHO;AAKR;;;;;;;;;;;AASQ,2BAAA,GAAqB,CAACoK,OAAD,EAAkB3K,MAAlB;AAC3B,YAAM4K,eAAe,GAAG,KAAKnC,KAAL,CAAWjF,GAAX,IAAkBrC,mBAAmBnB,QAArC,KAAkD,CAA1E;AACA,YAAM6K,QAAQ,GAAID,eAAe,KAAK,CAArB,GAA0B,OAA1B,GAAoC,MAArD;AACA,YAAME,eAAe,GAAIF,eAAe,KAAK,CAArB,GACrBD,OAAO,GAAGpJ,aAAX,GAA0B,IADJ,GAGrBoJ,OAAO,GAAGpJ,aAAX,GAA0B,IAH5B;AAKA,UAAIwJ,kBAAkB,GAAGC,IAAI,CAACH,QAAD,CAAJ,CAAeC,eAAf,KAAmC,CAA5D;;AAEA,YAAMG,UAAU,GAAG,KAAKhD,WAAL,CAAiBjI,MAAjB,EAAyBgJ,MAA5C;;AACA,UAAIgC,IAAI,CAACE,IAAL,CAAUH,kBAAV,MAAkC,CAAC,CAAvC,EAA0C;AACxCA,QAAAA,kBAAkB,GAAG,CAArB;AACD,OAFD,MAEO,IAAIA,kBAAkB,GAAGE,UAAU,GAAG,CAAtC,EAAyC;AAC9CF,QAAAA,kBAAkB,GAAGE,UAAU,GAAG,CAAlC;AACD;;AACD,aAAOF,kBAAP;AACD,KAjBO;AAmBR;;;;;;;;;AAOQ,iBAAA,GAAW,CAACR,KAAD,EAAiDvK,MAAjD;AACjB,UAAI,CAACuK,KAAK,CAAChD,WAAX,EAAwB;AACxB,YAAM;AAAE4D,QAAAA;AAAF,UAAQZ,KAAK,CAAChD,WAAN,CAAkB6D,aAAhC;AACA,YAAMC,gBAAgB,GAAG,KAAK5C,KAAL,CAAWjF,GAAX,IAAkBtC,qBAAqBlB,QAAvC,CAAzB;;AACA,UAAIqL,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,GAAGF,CAApD,EAAuD;AACrD,aAAK1C,KAAL,CAAWxC,GAAX,IAAkB9E,mBAAmBnB,QAArC,EAA+C,CAA/C,EADqD;AAEtD,OAFD,MAEO;AACL,aAAKyI,KAAL,CAAWxC,GAAX,IAAkB9E,mBAAmBnB,QAArC,EAA+C,CAA/C,EADK;AAEN;;AACD,WAAKyI,KAAL,CAAWxC,GAAX,IAAkB/E,qBAAqBlB,QAAvC,EAAiDmL,CAAjD;AACD,KAVO;AAYR;;;;;;;AAKQ,0BAAA,GAAqBnL,MAAD;AAC1B,WAAKyI,KAAL,CAAWxC,GAAX,IAAkB7E,cAAcpB,QAAhC,EAA0C,IAA1C;AACA,YAAM+J,KAAK,GAAG,KAAKtB,KAAL,CAAWjF,GAAX,CAAelC,QAAf,CAAd;;AACA,UAAI,CAACyI,KAAL,EAAY;AACV,aAAKtB,KAAL,CAAWxC,GAAX,CAAe3E,QAAf,EAAyB,IAAzB;AACD;AACF,KANO;AAQR;;;;;;;;AAMQ,wBAAA,GAAkB,OACxBiJ,KADwB,EAExBvK,MAFwB;AAIxB,WAAKyI,KAAL,CAAWxC,GAAX,IAAkB7E,cAAcpB,QAAhC,EAA0C,KAA1C;;AACA,UAAIwB,QAAQ,CAAC+G,EAAT,KAAgB,KAAhB,IAAyB,CAAC,KAAKE,KAAL,CAAWjF,GAAX,IAAkBnC,wBAAwBrB,QAA1C,CAA9B,EAAmF;AACjF;AACA;AACA;AACA,aAAKsL,6BAAL,CAAmCf,KAAnC,EAA0CvK,MAA1C,EAAkD,GAAlD;AACD;;AACD,WAAKqK,cAAL;AACD,KAZO;AAcR;;;;;;;;AAMQ,8BAAA,GAAwB,CAC9BE,KAD8B,EAE9BvK,MAF8B;AAI9B,WAAKyI,KAAL,CAAWxC,GAAX,IAAkB5E,wBAAwBrB,QAA1C,EAAoD,IAApD;AACD,KALO;AAOR;;;;;;;;AAMQ,4BAAA,GAAsB,CAC5BuK,KAD4B,EAE5BvK,MAF4B;AAI5B,WAAKyI,KAAL,CAAWxC,GAAX,IAAkB5E,wBAAwBrB,QAA1C,EAAoD,KAApD;;AACA,UAAIwB,QAAQ,CAAC+G,EAAT,KAAgB,KAApB,EAA2B;AACzBgC,QAAAA,KAAK,CAACgB,OAAN;AACA,aAAKD,6BAAL,CAAmCf,KAAnC,EAA0CvK,MAA1C,EAAkD,EAAlD;AACD,OAHD,MAGO;AACL,aAAKsL,6BAAL,CAAmCf,KAAnC,EAA0CvK,MAA1C;AACD;AACF,KAXO;AAaR;;;;;;;;;;AAQQ,sCAAA,GAAgC,CACtCuK,KADsC,EAEtCvK,MAFsC,EAGtCwL,QAAgB,CAHsB;AAKtC,UAAI,CAACjB,KAAK,CAAChD,WAAX,EAAwB;AACxB,YAAM;AAAE4D,QAAAA;AAAF,UAAQZ,KAAK,CAAChD,WAAN,CAAkB6D,aAAhC;AACA,YAAMzB,kBAAkB,GAAG,KAAKA,kBAAL,CAAwBwB,CAAxB,EAA2BnL,MAA3B,CAA3B;AACAsI,MAAAA,UAAU,CAAC;AACT,cAAMmD,UAAU,GAAG,KAAKhD,KAAL,CAAWjF,GAAX,IAAkBpC,cAAcpB,QAAhC,CAAnB;AACA,cAAM0L,mBAAmB,GAAG,KAAKjD,KAAL,CAAWjF,GAAX,IAAkBnC,wBAAwBrB,QAA1C,CAA5B;;AACA,YAAI,CAACyL,UAAD,IAAe,CAACC,mBAApB,EAAyC;AACvC,eAAK5E,WAAL,CAAiB6C,kBAAjB,EAAqC3J,MAArC;AACD;AACF,OANS,EAMPwL,KANO,CAAV;AAOD,KAfO;AAiBR;;;;;;;;AAMQ,iBAAA,GAAW;AACjB,YAAMhE,UAAU,sBAAS,MAAM,KAAKI,oBAAL,IAA/B;;AACA,UAAI,KAAKzH,KAAL,CAAWzC,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAM,KAAKiO,IAAL,EAAN;AACD;;AACD,WAAKxL,KAAL,CAAWzB,QAAX,CAAoB8I,UAApB;AACD,KANO;AAQR;;;;;;;;AAMQ,kBAAA,GAAY;AAClB,YAAMA,UAAU,sBAAS,MAAM,KAAKI,oBAAL,IAA/B;;AACA,UAAI,KAAKzH,KAAL,CAAWzC,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAM,KAAKiO,IAAL,EAAN;AACD;;AACD,WAAKxL,KAAL,CAAWxB,SAAX,CAAqB6I,UAArB;AACD,KANO;AAQR;;;;;;;;AAMQ,gBAAA,GAAU;AAChB,UAAI,KAAKrH,KAAL,CAAWzC,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,cAAM,KAAKiO,IAAL,EAAN;AACD;;AACD,WAAKxL,KAAL,CAAWvB,OAAX;AACD,KALO;AAOR;;;;;;;AAKQ,yBAAA,GAAmB,CAAC;AAC1BuJ,MAAAA,IAAI,EAAE;AACJ9I,QAAAA,KADI;AAEJW,QAAAA,MAFI;AAGJf,QAAAA,GAHI;AAIJM,QAAAA;AAJI,OADoB;AAO1B+G,MAAAA;AAP0B,KAAD;AAYzB,YAAM;AAAEnI,QAAAA,mBAAF;AAAuByN,QAAAA;AAAvB,UAA0C,KAAKzL,KAArD;AACA;AAAA;AACE,4BAAC,IAAD;AAAM,UAAA,KAAK,EAAEgE,MAAM,CAAClB;AAApB;AAAA;AACE,4BAAC,gBAAD;AACE,UAAA,aAAa,EAAE,GADjB;AAEE,UAAA,OAAO,EAAE,MAAM,KAAK6D,WAAL,CAAiBR,KAAjB,EAAwBtG,MAAxB,CAFjB;AAGE,UAAA,MAAM,EAAET,MAAM,IAAIN;AAHpB;AAAA;AAKE,4BAAC,IAAD;AACE,UAAA,aAAa,EAAE,CADjB;AAEE,UAAA,KAAK,EAAE,CAACkF,MAAM,CAAChB,cAAR,EAAwB;AAAEkB,YAAAA,KAAK,EAAElG;AAAT,WAAxB,EAAwDyN,cAAxD;AAFT,WAIGvM,KAJH,CALF,CADF;AADF;AAgBD,KA7BO;AA+BR;;;;;;;;;AAOQ,4BAAA,GAAsB,CAC5B;AAAEkI,MAAAA,WAAW,EAAE;AAAEvH,QAAAA,MAAF;AAAUV,QAAAA;AAAV;AAAf,KAD4B;AAG5B,YAAM;AAAEb,QAAAA;AAAF,UAAoB,KAAK0B,KAA/B;AACA1B,MAAAA,aAAa,CAAC;AAAEuB,QAAAA,MAAF;AAAUV,QAAAA;AAAV,OAAD,CAAb;AACD,KALO;;AAOA,8BAAA,GAAwB;AAC9B,YAAM;AACJlB,QAAAA,sBADI;AAEJC,QAAAA,kBAFI;AAGJP,QAAAA;AAHI,UAIF,KAAKqC,KAJT;AAKA,aAAO,KAAKA,KAAL,CAAW0L,eAAX,GACH,KAAK1L,KAAL,CAAW0L,eAAX,CAA2B,KAAKnB,KAAL,CAAW/M,QAAtC,EAAgD,KAAKgB,SAArD,CADG;AAAA;AAEH,0BAACmN,SAAD;AACE,QAAA,WAAW,EAAEhO,WADf;AAEE,QAAA,iBAAiB,EAAEM,sBAFrB;AAGE,QAAA,kBAAkB,EAAEC,kBAHtB;AAIE,QAAA,SAAS,EAAE,KAAKM,SAJlB;AAKE,QAAA,OAAO,EAAE,KAAKC;AALhB,QAFJ;AAUD,KAhBO;;AAkBA,8BAAA,GAAwB;AAC9B,YAAM;AACJd,QAAAA,WADI;AAEJC,QAAAA,SAFI;AAGJG,QAAAA,gBAHI;AAIJE,QAAAA,sBAJI;AAKJC,QAAAA;AALI,UAMF,KAAK8B,KANT;AAOA,aAAO,KAAKA,KAAL,CAAW4L,YAAX,GAA0B,KAAK5L,KAAL,CAAW4L,YAAX,CAAwB,KAAKrB,KAAL,CAAW/M,QAAnC,EAA6C,KAAKiB,OAAlD,CAA1B;AAAA;AACL,0BAAC,OAAD;AACE,QAAA,WAAW,EAAEd,WADf;AAEE,QAAA,SAAS,EAAEC,SAFb;AAGE,QAAA,gBAAgB,EAAEG,gBAHpB;AAIE,QAAA,iBAAiB,EAAEE,sBAJrB;AAKE,QAAA,kBAAkB,EAAEC,kBALtB;AAME,QAAA,SAAS,EAAE,KAAKM,SANlB;AAOE,QAAA,OAAO,EAAE,KAAKC;AAPhB,QADF;AAWD,KAnBO;;AAnjBN,SAAK8L,KAAL,GAAa;AACXhN,MAAAA,OAAO,EAAE,KADE;AAEX+M,MAAAA,aAAa,EAAE,CAFJ;AAGX9M,MAAAA,QAAQ,EAAE;AAHC,KAAb;AAKD;AAED;;;;;;AAIAqO,EAAAA,iBAAiB;AACf,QAAI,KAAK7L,KAAL,CAAWzC,OAAX,KAAuB,IAA3B,EAAiC;AAC/B,WAAKuO,IAAL;AACD;AACF;AACD;;;;;AAGAC,EAAAA,kBAAkB,CAACC,SAAD;AAChB,UAAM;AAAEzO,MAAAA,OAAO,EAAE0O;AAAX,QAA2B,KAAKjM,KAAtC;AACA,UAAM;AAAEzC,MAAAA,OAAO,EAAE2O;AAAX,QAA4B,KAAK3B,KAAvC;;AACA,QAAI0B,WAAW,KAAK,IAAhB,IAAwBD,SAAS,CAACzO,OAAV,KAAsB,IAA9C,IAAsD2O,YAAY,KAAK,IAA3E,EAAiF;AAC/E,WAAKJ,IAAL;AACD;;AACD,QAAIG,WAAW,KAAK,KAAhB,IAAyBD,SAAS,CAACzO,OAAV,KAAsB,IAAnD,EAAyD;AACvD,WAAKiO,IAAL;AACD;AACF;;AA4iBDW,EAAAA,MAAM;AACJ,UAAM;AAAE5O,MAAAA;AAAF,QAAc,KAAKgN,KAAzB;AACA,UAAM;AACJ1M,MAAAA,YADI;AAEJP,MAAAA,OAFI;AAGJG,MAAAA,iBAHI;AAIJO,MAAAA,mBAJI;AAKJG,MAAAA,wBALI;AAMJC,MAAAA,oBANI;AAOJC,MAAAA,eAPI;AAQJ0G,MAAAA,kBARI;AASJqH,MAAAA,2BATI;AAUJC,MAAAA,iBAVI;AAWJrH,MAAAA;AAXI,QAYF,KAAKhF,KAZT;AAcA;AAAA;AACE,0BAAC,KAAD;AACE,QAAA,OAAO,EAAEzC,OADX;AAEE,QAAA,aAAa,EAAE8D,QAAQ,CAACC,MAAT,CAAgB;AAC7BhB,UAAAA,GAAG,EAAE,MADwB;AAE7BC,UAAAA,OAAO,EAAE;AAFoB,SAAhB,CAFjB;AAME,QAAA,WAAW,MANb;AAOE,QAAA,cAAc,EAAE,KAAKhC;AAPvB;AAAA;AASE,0BAAC+N,MAAD;AACE,QAAA,eAAe,MADjB;AAEE,QAAA,SAAS,EAAC,QAFZ;AAGE,QAAA,MAAM,EAAC,gBAHT;AAIE,QAAA,QAAQ,EAAEpM,cAJZ;AAKE,QAAA,GAAG,EAAE,KAAKsI,iBALZ;AAME,QAAA,KAAK,EAAE,CAACxE,MAAM,CAACvC,cAAR,CANT;AAOE,QAAA,MAAM,EAAEhB,QAAQ,CAACC;AAPnB;AAAA;AASE,0BAAC,wBAAD;AAA0B,QAAA,OAAO,EAAE,KAAKnC,QAAxC;AAAkD,QAAA,MAAM,EAAEkC,QAAQ,CAACG;AAAnE;AAAA;AACE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACoD,MAAM,CAAClC,kBAAR,EAA4B;AAAEH,UAAAA,MAAM,KAAK;AAAb,SAA5B;AAAb,QADF,CATF;AAAA;AAaE,0BAAC2K,MAAD;AACE,QAAA,eAAe,MADjB;AAEE,QAAA,SAAS,EAAE;AACTC,UAAAA,IAAI,EAAE;AAAEC,YAAAA,OAAO,EAAE,CAAX;AAAcC,YAAAA,UAAU,EAAE;AAA1B,WADG;AAETC,UAAAA,EAAE,EAAE;AAAEF,YAAAA,OAAO,EAAE,CAAX;AAAcC,YAAAA,UAAU,EAAE;AAA1B;AAFK,SAFb;AAME,QAAA,MAAM,EAAC,gBANT;AAOE,QAAA,KAAK,EAAE,GAPT;AAQE,QAAA,QAAQ,EAAEvM,cARZ;AASE,QAAA,GAAG,EAAE,KAAKyM,kBATZ;AAUE,QAAA,KAAK,EAAE,CACL3I,MAAM,CAACjC,eADF,EAEL;AACEJ,UAAAA,MAAM,KAAK,KADb;AAEEtD,UAAAA,eAFF;AAGEuO,UAAAA,YAAY,EAAE,EAHhB;AAIEnK,UAAAA,WAAW,EAAE;AAJf,SAFK;AAVT,SAoBG,KAAKoK,qBAAL,EApBH,EAqBGT,2BAA2B;AAAA;AAE1B,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAEpI,MAAM,CAACpB;AAApB,SACG2E,eAAe,CAACuF,yBAAhB,CAA0CxP,OAA1C,EAAmDqK,GAAnD,CAAuD,CACtD;AAAE7I,QAAAA,GAAG,EAAEe,MAAP;AAAeR,QAAAA;AAAf,OADsD;AAAA;AAGtD,0BAAC,IAAD;AACE,QAAA,KAAK,EAAE,CACL2E,MAAM,CAACxB,YADF,EAEL;AAAEnD,UAAAA;AAAF,SAFK,EAGL2E,MAAM,CAACrB,kBAHF,CADT;AAME,QAAA,GAAG,KAAK9C;AANV;AAAA;AAQE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAEmE,MAAM,CAACnB;AAApB;AAAA;AACE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAEuJ;AAAb,SAA2CvM,MAA3C,CADF,CARF,CAHD,CADH,CAvBJ;AAAA;AA0CE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAEmE,MAAM,CAAC/B;AAApB,SAEG,KAAK8G,QAAL;AAAA;AACC,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAE/E,MAAM,CAACb;AAApB;AAAA;AACE,0BAAC,QAAD;AACE,QAAA,GAAG,EAAE,KAAK6F,eAAL,CAAqB1B,QAD5B;AAEE,QAAA,YAAY,EAAEzJ,YAFhB;AAGE,QAAA,KAAK,EAAEmG,MAAM,CAACT,YAHhB;AAIE,QAAA,OAAO,EAAEgE,eAAe,CAACuF,yBAAhB,CAA0CxP,OAA1C,CAJX;AAKE,QAAA,iBAAiB,EAAEG,iBALrB;AAME,QAAA,aAAa,EAAE,KAAKsP,mBANtB;AAOE,QAAA,gBAAgB,EAAE,KAAK/D,eAAL,CAAqBgE,gBAPzC;AAQE,QAAA,KAAK,EAAE;AACLC,UAAAA,UAAU,EAAE7L,aADP;AAELjD,UAAAA,wBAFK;AAGLC,UAAAA,oBAHK;AAILJ,UAAAA;AAJK;AART,QADF,CAHJ,EAuBG,CAAC,KAAK+K,QAAL,EAAD;AAAA;AACC;AAAA;AACE,0BAAC,eAAD;AACE,QAAA,eAAe,EAAE5K,wBADnB;AAEE,QAAA,WAAW,EAAEC,oBAFf;AAGE,QAAA,kBAAkB,EAAE2G,kBAHtB;AAIE,QAAA,eAAe,EAAEC;AAJnB,QADF;AAAA;AAOE,0BAAC,IAAD;AACE,QAAA,KAAK,EAAE,CAAChB,MAAM,CAAC7B,aAAR,EAAuBkK,iBAAvB,CADT;AAEE,QAAA,QAAQ,EAAE,KAAKa;AAFjB,SAIG3F,eAAe,CAACuF,yBAAhB,CAA0CxP,OAA1C,EAAmDqK,GAAnD,CAAuD,CACtD;AAAE7I,QAAAA,GAAG,EAAEe,MAAP;AAAeT,QAAAA,MAAM,EAAE+N,YAAvB;AAAqC9N,QAAAA;AAArC,OADsD;AAAA;AAGtD,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAAC2E,MAAM,CAACxB,YAAR,EAAsB;AAAEnD,UAAAA;AAAF,SAAtB,CAAb;AAA8C,QAAA,GAAG,KAAKQ;AAAtD;AAAA;AACE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAEmE,MAAM,CAACnB;AAApB;AAAA;AACE,0BAAC,QAAD;AACE,QAAA,IAAI,EAAE,KAAKiF,WAAL,CAAiBjI,MAAjB,EAAyB8H,GAAzB,CAA6B,CAAC;AAClCzI,UAAAA,KADkC;AAElCC,UAAAA,KAFkC;AAGlCL,UAAAA,GAHkC;AAIlCM,UAAAA;AAJkC,SAAD,MAK5B;AACLF,UAAAA,KADK;AAELC,UAAAA,KAFK;AAGLU,UAAAA,MAHK;AAILT,UAAAA,MAJK;AAKLN,UAAAA,GAAG,KAAKe,UAAUf,GAAG,IAAII;AALpB,SAL4B,CAA7B,CADR;AAaE,QAAA,UAAU,EAAE,KAAKkO,gBAbnB;AAcE,QAAA,YAAY,EAAEpF,IAAI,IAAIA,IAAI,CAAClJ,GAd7B;AAeE,QAAA,kBAAkB,EAAE,EAftB;AAgBE,QAAA,aAAa,EAAE,CAACuO,IAAD,EAAOlH,KAAP,MACb;AACE0C,UAAAA,MAAM,EAAEzH,aADV;AAEEkM,UAAAA,MAAM,EAAElM,aAAW,GAAG+E,KAFxB;AAGEA,UAAAA;AAHF,SADa,CAhBjB;AAuBE,QAAA,qBAAqB,EAAE;AACrB/D,UAAAA,UAAU,EAAE,KAAKmL,sBAAL,EADS;AAErBjL,UAAAA,aAAa,EAAE,KAAKiL,sBAAL;AAFM,SAvBzB;AA2BE,QAAA,4BAA4B,EAAE,KA3BhC;AA4BE,QAAA,GAAG,EAAElH,GAAG,IAAI,KAAKmH,cAAL,CAAoB3N,MAApB,EAA4BwG,GAA5B,CA5Bd;AA6BE,QAAA,QAAQ,EAAE+D,KAAK,IAAI,KAAKqD,QAAL,CAAcrD,KAAd,EAAqBvK,MAArB,CA7BrB;AA8BE,QAAA,iBAAiB,EAAE,MAAM,KAAK6N,iBAAL,CAAuB7N,MAAvB,CA9B3B;AA+BE,QAAA,eAAe,EAAEuK,KAAK,IAAI,KAAKuD,eAAL,CAAqBvD,KAArB,EAA4BvK,MAA5B,CA/B5B;AAgCE,QAAA,qBAAqB,EAAEuK,KAAK,IAC1B,KAAKwD,qBAAL,CAA2BxD,KAA3B,EAAkCvK,MAAlC,CAjCJ;AAmCE,QAAA,mBAAmB,EAAEuK,KAAK,IACxB,KAAKyD,mBAAL,CAAyBzD,KAAzB,EAAgCvK,MAAhC,CApCJ;AAsCE,QAAA,mBAAmB,EAAE,EAtCvB;AAuCE,QAAA,gBAAgB,EAAEwB,QAAQ,CAACC,MAAT,CAAgB;AAChChB,UAAAA,GAAG,EAAE,CAD2B;AAEhCuE,UAAAA,OAAO,EAAE/G;AAFuB,SAAhB,CAvCpB;AA2CE,QAAA,MAAM,KAAKqP;AA3Cb,QADF,CADF,CAHD,CAJH,CAPF,CAxBJ,CA1CF,EAsIG,KAAKW,qBAAL,EAtIH,CAbF;AAAA;AAqJE,0BAAC,wBAAD;AAA0B,QAAA,OAAO,EAAE,KAAKvP,QAAxC;AAAkD,QAAA,MAAM,EAAEkC,QAAQ,CAACG;AAAnE;AAAA;AACE,0BAAC,IAAD;AAAM,QAAA,KAAK,EAAE,CAACoD,MAAM,CAAClC,kBAAR,EAA4B;AAAEH,UAAAA,MAAM,KAAK;AAAb,SAA5B;AAAb,QADF,CArJF,CATF;AADF;AAqKD;;;AArxBM4F,yBAAA,GAAY7I,SAAZ;AACA6I,4BAAA,GAAenK,YAAf;AAEP;;;;;;;AAMOmK,yCAAA,GAA6BjK,OAAD,IACjCA,OAAO,CAACqK,GAAR,CAAY9H,MAAM,oCACbA;AACHR,EAAAA,IAAI,EAAEQ,MAAM,CAACR,IAAP,IAAe;EAFvB,CADK;;;;;"}